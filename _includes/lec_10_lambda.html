<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link rel="stylesheet" href="{{ 'assets/coqdoc.css' | relative_url }}">
<title>lec_10_lambda</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">


<div class="code">
</div>

<div class="doc">
<a id="lab1"></a>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Strings.String.html#"><span class="id" title="library">Strings.String</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Multi</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab2"></a><h2 class="section">Recap</h2>


<div class="paragraph"> </div>

<ul class="doclist">
<li> Last time we looked at Hoare Logic, which gave us a way to verify 
      properties of single programs that contains state.

</li>
<li> As a reminder, the ability to read/write to state is what gave us
      Turing completeness.

</li>
<li> Today, we'll introduce another language that gives an alternative
      to Turing-completeness: substitution in <i>Lambda Calculus</i>.

</li>
</ul>
 
<div class="paragraph"> </div>

<a id="lab3"></a><h2 class="section">Goal for today</h2>


<div class="paragraph"> </div>

<ul class="doclist">
<li> Introuduce Lambda Calculus, including <i>alpha-equivalence</i>,
     <i>free variables</i>, and <i>substituion</i>.

</li>
<li> Introduce <i>call-by-value</i> and <i>call-by-need</i> semantics.

</li>
<li> Show how to perform <i>Church encodings</i>.

</li>
<li> Illustrate non-termination, recursion, and the Y-combinator in 
     Lambda Calculus.

</li>
<li> Introduce the idea of definitional translation which will give us
     a way to extend the Lambda Calculus.

</li>
</ul>
 
<div class="paragraph"> </div>

<a id="lab4"></a><h2 class="section">Lambda Calculus</h2>


<div class="paragraph"> </div>

<ul class="doclist">
<li> Lambda calculus was invented by Alonzo Church in the 1930s for studying the
     foundations of mathematics.

</li>
<li> The original system was shown inconsistent (Kleene–Rosser paradox) and now the
     (untyped) lambda calculus is used as a model of computation.

</li>
<li> There are weaker versions of lambda calculus such as typed lambda calculus that
     we will look at later that can be used a logic.

</li>
<li> Today we will look at untyped lambda calculus, or simply, lambda calculus.

</li>
<li> Lambda calculus (i.e., λ-calculus) is a "notation" for describing functions.

</li>
<li> The word "lambda" comes from use of the Greek letter lambda (λ) in
     defining functions.

</li>
<li> The word "calculus" means symbolic calculation and is not related to
     high-school calculus.

</li>
</ul>

<div class="paragraph"> </div>

<a id="lab5"></a><h3 class="section">Syntax</h3>

</div>
<div class="code">
<span class="comment">(*<br/>
&nbsp;&nbsp;&nbsp;e&nbsp;::=&nbsp;x&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(variable)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;e&nbsp;e&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(application)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;\x.&nbsp;e&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(abstraction)<br/>
&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a id="tm" class="idref" href="#tm"><span class="id" title="inductive">tm</span></a> : <span class="id" title="keyword">Type</span> :=<br/>
| <a id="tm_var" class="idref" href="#tm_var"><span class="id" title="constructor">tm_var</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="lec_10_lambda.html#tm:1"><span class="id" title="inductive">tm</span></a>          <span class="comment">(*&nbsp;variable&nbsp;*)</span><br/>
| <a id="tm_app" class="idref" href="#tm_app"><span class="id" title="constructor">tm_app</span></a> : <a class="idref" href="lec_10_lambda.html#tm:1"><span class="id" title="inductive">tm</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="lec_10_lambda.html#tm:1"><span class="id" title="inductive">tm</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="lec_10_lambda.html#tm:1"><span class="id" title="inductive">tm</span></a>        <span class="comment">(*&nbsp;application&nbsp;*)</span><br/>
| <a id="tm_abs" class="idref" href="#tm_abs"><span class="id" title="constructor">tm_abs</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="lec_10_lambda.html#tm:1"><span class="id" title="inductive">tm</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="lec_10_lambda.html#tm:1"><span class="id" title="inductive">tm</span></a>    <span class="comment">(*&nbsp;abstraction&nbsp;*)</span><br/>
.<br/>

<br/>
</div>

<div class="doc">
<a id="lab6"></a><h3 class="section">Notation</h3>

</div>
<div class="code">

<br/>
<span class="id" title="var">Declare</span> <span class="id" title="var">Custom</span> <span class="id" title="var">Entry</span> <span class="id" title="var">lambda</span>.<br/>
<span class="id" title="keyword">Notation</span> <a id="96e24cc1b3765f349012b832d1dd22ad" class="idref" href="#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">&quot;</span></a>&lt;{ e }&gt;" := <span class="id" title="var">e</span> (<span class="id" title="var">e</span> <span class="id" title="var">custom</span> <span class="id" title="var">lambda</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 99).<br/>
<span class="id" title="keyword">Notation</span> <a id="3ff62a5ccf9cf53d5aae3523f185e45b" class="idref" href="#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">&quot;</span></a>( x )" := <span class="id" title="var">x</span> (<span class="id" title="tactic">in</span> <span class="id" title="var">custom</span> <span class="id" title="var">lambda</span>, <span class="id" title="var">x</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 99).<br/>
<span class="id" title="keyword">Notation</span> <a id=":lambda::x" class="idref" href="#:lambda::x"><span class="id" title="notation">&quot;</span></a>x" := <span class="id" title="var">x</span> (<span class="id" title="tactic">in</span> <span class="id" title="var">custom</span> <span class="id" title="var">lambda</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 0, <span class="id" title="var">x</span> <span class="id" title="keyword">constr</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 0).<br/>
<span class="id" title="keyword">Notation</span> <a id=":lambda::x_x" class="idref" href="#:lambda::x_x"><span class="id" title="notation">&quot;</span></a>x y" := (<a class="idref" href="lec_10_lambda.html#tm_app"><span class="id" title="constructor">tm_app</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span>) (<span class="id" title="tactic">in</span> <span class="id" title="var">custom</span> <span class="id" title="var">lambda</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 1, <span class="id" title="tactic">left</span> <span class="id" title="keyword">associativity</span>).<br/>
<span class="id" title="keyword">Notation</span> <a id="d3851ec98b076e0d39924546fcccddfe" class="idref" href="#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">&quot;</span></a>\ x , y" :=<br/>
&nbsp;&nbsp;(<a class="idref" href="lec_10_lambda.html#tm_abs"><span class="id" title="constructor">tm_abs</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span>) (<span class="id" title="tactic">in</span> <span class="id" title="var">custom</span> <span class="id" title="var">lambda</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 90, <span class="id" title="var">x</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 99,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">y</span> <span class="id" title="var">custom</span> <span class="id" title="var">lambda</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 99,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span> <span class="id" title="keyword">associativity</span>).<br/>
<span class="id" title="keyword">Coercion</span> <a class="idref" href="lec_10_lambda.html#tm_var"><span class="id" title="constructor">tm_var</span></a> <a class="idref" href="lec_10_lambda.html#tm_var"><span class="id" title="constructor">:</span></a> <a class="idref" href="lec_10_lambda.html#tm_var"><span class="id" title="constructor">string</span></a> <a class="idref" href="lec_10_lambda.html#tm_var"><span class="id" title="constructor">&gt;-&gt;</span></a> <a class="idref" href="lec_10_lambda.html#tm_var"><span class="id" title="constructor">tm</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="x" class="idref" href="#x"><span class="id" title="definition">x</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a> := "x".<br/>
<span class="id" title="keyword">Definition</span> <a id="y" class="idref" href="#y"><span class="id" title="definition">y</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a> := "y".<br/>
<span class="id" title="keyword">Definition</span> <a id="z" class="idref" href="#z"><span class="id" title="definition">z</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a> := "z".<br/>
<span class="id" title="keyword">Definition</span> <a id="f" class="idref" href="#f"><span class="id" title="definition">f</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a> := "f".<br/>
<span class="id" title="keyword">Definition</span> <a id="g" class="idref" href="#g"><span class="id" title="definition">g</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a> := "g".<br/>
<span class="id" title="keyword">Definition</span> <a id="h" class="idref" href="#h"><span class="id" title="definition">h</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a> := "h".<br/>

<br/>
</div>

<div class="doc">
<a id="lab7"></a><h3 class="section">Examples</h3>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Example</span> <a id="ex1" class="idref" href="#ex1"><span class="id" title="definition">ex1</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">\</span></a><a class="idref" href="lec_10_lambda.html#x"><span class="id" title="definition">x</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">,</span></a> <a class="idref" href="lec_10_lambda.html#x"><span class="id" title="definition">x</span></a> <a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">}&gt;</span></a>.<br/>

<br/>
<span class="id" title="keyword">Example</span> <a id="ex2" class="idref" href="#ex2"><span class="id" title="definition">ex2</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">\</span></a><a class="idref" href="lec_10_lambda.html#x"><span class="id" title="definition">x</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">,</span></a> <a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">(</span></a><a class="idref" href="lec_10_lambda.html#f"><span class="id" title="definition">f</span></a> <a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">(</span></a><a class="idref" href="lec_10_lambda.html#g"><span class="id" title="definition">g</span></a> <a class="idref" href="lec_10_lambda.html#x"><span class="id" title="definition">x</span></a><a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">))</span></a> <a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">}&gt;</span></a>.<br/>

<br/>
<span class="id" title="keyword">Example</span> <a id="ex3" class="idref" href="#ex3"><span class="id" title="definition">ex3</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">(</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">\</span></a><a class="idref" href="lec_10_lambda.html#x"><span class="id" title="definition">x</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">,</span></a> <a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">\</span></a><a class="idref" href="lec_10_lambda.html#y"><span class="id" title="definition">y</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">,</span></a> <a class="idref" href="lec_10_lambda.html#x"><span class="id" title="definition">x</span></a><a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">)</span></a> <a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">}&gt;</span></a>.<br/>

<br/>
<span class="id" title="keyword">Example</span> <a id="ex4" class="idref" href="#ex4"><span class="id" title="definition">ex4</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">(</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">\</span></a><a class="idref" href="lec_10_lambda.html#x"><span class="id" title="definition">x</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">,</span></a> <a class="idref" href="lec_10_lambda.html#x"><span class="id" title="definition">x</span></a><a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">)</span></a> <a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">(</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">\</span></a><a class="idref" href="lec_10_lambda.html#x"><span class="id" title="definition">x</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">,</span></a> <a class="idref" href="lec_10_lambda.html#x"><span class="id" title="definition">x</span></a><a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">)</span></a> <a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">}&gt;</span></a>.<br/>

<br/>
<span class="id" title="keyword">Example</span> <a id="ex5" class="idref" href="#ex5"><span class="id" title="definition">ex5</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">(</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">\</span></a><a class="idref" href="lec_10_lambda.html#x"><span class="id" title="definition">x</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">,</span></a> <a class="idref" href="lec_10_lambda.html#x"><span class="id" title="definition">x</span></a><a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">)</span></a> <a class="idref" href="lec_10_lambda.html#h"><span class="id" title="definition">h</span></a> <a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">}&gt;</span></a>.<br/>

<br/>
<span class="id" title="keyword">Example</span> <a id="ex6" class="idref" href="#ex6"><span class="id" title="definition">ex6</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">(</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">\</span></a><a class="idref" href="lec_10_lambda.html#x"><span class="id" title="definition">x</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">,</span></a> <a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">\</span></a><a class="idref" href="lec_10_lambda.html#y"><span class="id" title="definition">y</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">,</span></a> <a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">\</span></a><a class="idref" href="lec_10_lambda.html#x"><span class="id" title="definition">x</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">,</span></a> <a class="idref" href="lec_10_lambda.html#y"><span class="id" title="definition">y</span></a> <a class="idref" href="lec_10_lambda.html#x"><span class="id" title="definition">x</span></a><a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">)</span></a> <a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">}&gt;</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab8"></a><h3 class="section">Alpha-Equivalence</h3>


<div class="paragraph"> </div>

<ul class="doclist">
<li> Lambda terms are equivalent up to *alpha-conversion*, i.e., renaming of variables.

</li>
</ul>

</div>
<div class="code">

<br/>
<span class="comment">(*<br/>
<br/>
&nbsp;&nbsp;&nbsp;\x,&nbsp;x&nbsp;=&nbsp;\y,&nbsp;y<br/>
<br/>
&nbsp;&nbsp;&nbsp;\x,&nbsp;(f&nbsp;(g&nbsp;x))&nbsp;=&nbsp;\z,&nbsp;(f&nbsp;(g&nbsp;z))<br/>
<br/>
&nbsp;&nbsp;&nbsp;(\x,&nbsp;x)&nbsp;(\x,&nbsp;x)&nbsp;=&nbsp;&nbsp;(\z,&nbsp;z)&nbsp;(\a,&nbsp;a)<br/>
<br/>
&nbsp;&nbsp;&nbsp;(\x,&nbsp;\y,&nbsp;\x,&nbsp;y&nbsp;x)&nbsp;=&nbsp;(\x,&nbsp;(\y,&nbsp;(\a,&nbsp;y&nbsp;a)))<br/>
<br/>
&nbsp;*)</span><br/>

<br/>
</div>

<div class="doc">
<a id="lab9"></a><h3 class="section">Associativity</h3>


<div class="paragraph"> </div>

<ul class="doclist">
<li> Lambda abstraction associates to the right.

</li>
</ul>

</div>
<div class="code">
<span class="comment">(*<br/>
<br/>
&nbsp;&nbsp;(\x,&nbsp;\y,&nbsp;\x,&nbsp;y&nbsp;x)&nbsp;=&nbsp;(\x,&nbsp;(\y,&nbsp;(\x,&nbsp;y&nbsp;x)))<br/>
<br/>
&nbsp;*)</span><br/>

<br/>
</div>

<div class="doc">
<a id="lab10"></a><h3 class="section">Bound variables</h3>


<div class="paragraph"> </div>

<ul class="doclist">
<li> A variable is <i>bound</i> if it is referred to by a lambda abstraction.

</li>
</ul>

</div>
<div class="code">
<span class="comment">(*<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;\x,&nbsp;x&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(x&nbsp;is&nbsp;bound)<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(\x,&nbsp;\y,&nbsp;x)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(x&nbsp;is&nbsp;bound,&nbsp;y&nbsp;is&nbsp;bound&nbsp;and&nbsp;not&nbsp;used)<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;\x,&nbsp;(f&nbsp;(g&nbsp;x))&nbsp;&nbsp;&nbsp;(x&nbsp;is&nbsp;bound,&nbsp;f&nbsp;and&nbsp;g&nbsp;are&nbsp;not&nbsp;bound)<br/>
<br/>
&nbsp;*)</span><br/>

<br/>
</div>

<div class="doc">
<a id="lab11"></a><h3 class="section">Free variables</h3>


<div class="paragraph"> </div>

<ul class="doclist">
<li> A variable is <i>free</i> if it is not bound.

</li>
</ul>

</div>
<div class="code">
<span class="comment">(*<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(\x,&nbsp;x)&nbsp;h&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(h&nbsp;is&nbsp;free)<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(\x,&nbsp;\y,&nbsp;\x,&nbsp;y&nbsp;x)&nbsp;&nbsp;(no&nbsp;free&nbsp;variables)<br/>
<br/>
&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.ListSet.html#"><span class="id" title="library">Coq.Lists.ListSet</span></a>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="free_var" class="idref" href="#free_var"><span class="id" title="definition">free_var</span></a> (<a id="t:3" class="idref" href="#t:3"><span class="id" title="binder">t</span></a>: <a class="idref" href="lec_10_lambda.html#tm"><span class="id" title="inductive">tm</span></a>): <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.ListSet.html#set"><span class="id" title="definition">set</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="lec_10_lambda.html#t:3"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="lec_10_lambda.html#tm_var"><span class="id" title="constructor">tm_var</span></a> <span class="id" title="var">y</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.ListSet.html#set_add"><span class="id" title="definition">set_add</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Strings.String.html#string_dec"><span class="id" title="definition">string_dec</span></a> <span class="id" title="var">y</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.ListSet.html#empty_set"><span class="id" title="definition">empty_set</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a>)<br/>
&nbsp;&nbsp;| <a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">&lt;{</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">\</span></a><span class="id" title="var">y</span><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">,</span></a> <span class="id" title="var">t1</span><a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">}&gt;</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.ListSet.html#set_remove"><span class="id" title="definition">set_remove</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Strings.String.html#string_dec"><span class="id" title="definition">string_dec</span></a> <span class="id" title="var">y</span> (<a class="idref" href="lec_10_lambda.html#free_var:4"><span class="id" title="definition">free_var</span></a> <span class="id" title="var">t1</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">&lt;{</span></a><span class="id" title="var">t1</span> <span class="id" title="var">t2</span><a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">}&gt;</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.ListSet.html#set_union"><span class="id" title="definition">set_union</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Strings.String.html#string_dec"><span class="id" title="definition">string_dec</span></a> (<a class="idref" href="lec_10_lambda.html#free_var:4"><span class="id" title="definition">free_var</span></a> <span class="id" title="var">t1</span>) (<a class="idref" href="lec_10_lambda.html#free_var:4"><span class="id" title="definition">free_var</span></a> <span class="id" title="var">t2</span>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Print</span> <a class="idref" href="lec_10_lambda.html#ex5"><span class="id" title="definition">ex5</span></a>.<br/>
<span class="id" title="keyword">Eval</span> <span class="id" title="tactic">compute</span> <span class="id" title="tactic">in</span> <a class="idref" href="lec_10_lambda.html#free_var"><span class="id" title="definition">free_var</span></a> <a class="idref" href="lec_10_lambda.html#ex5"><span class="id" title="definition">ex5</span></a>.<br/>

<br/>
<span class="id" title="keyword">Print</span> <a class="idref" href="lec_10_lambda.html#ex6"><span class="id" title="definition">ex6</span></a>.<br/>
<span class="id" title="keyword">Eval</span> <span class="id" title="tactic">compute</span> <span class="id" title="tactic">in</span> <a class="idref" href="lec_10_lambda.html#free_var"><span class="id" title="definition">free_var</span></a> <a class="idref" href="lec_10_lambda.html#ex6"><span class="id" title="definition">ex6</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab12"></a><h2 class="section">Substitution</h2>

<div class="paragraph"> </div>

<a id="lab13"></a><h3 class="section">Variables</h3>


<div class="paragraph"> </div>

<ul class="doclist">
<li> The "only interesting" part of lambda calculus is variables.

</li>
<li> Believe it or not, the rest of lecture will focus on this concept.

</li>
<li> The idea of variables is actually very simple: a variable is a placeholder
      for any other term. In other words, any time you see a variable, you can
      replace it with any other term in the language. Put another way, variables
      enable copy-and-paste.

</li>
<li> Warning: a variable in lambda calculus is not the same as a variable in many
      imperative programming languages. The language IMP has references and not
      variables.

</li>
<li> We'll model variables with strings. We want variables to be denumerable and
      for equality to be decidable.

</li>
</ul>
 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Check</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Strings.String.html#string_dec"><span class="id" title="definition">string_dec</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="eqb_string" class="idref" href="#eqb_string"><span class="id" title="definition">eqb_string</span></a> (<a id="x:6" class="idref" href="#x:6"><span class="id" title="binder">x</span></a> <a id="y:7" class="idref" href="#y:7"><span class="id" title="binder">y</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Strings.String.html#string_dec"><span class="id" title="definition">string_dec</span></a> <a class="idref" href="lec_10_lambda.html#x:6"><span class="id" title="variable">x</span></a> <a class="idref" href="lec_10_lambda.html#y:7"><span class="id" title="variable">y</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab14"></a><h3 class="section">Substitution attempt</h3>


<div class="paragraph"> </div>

<ul class="doclist">
<li> A very first attempt at writing substitution might look like the code below.

</li>
</ul>
 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="subst_wrong" class="idref" href="#subst_wrong"><span class="id" title="definition">subst_wrong</span></a> (<a id="x:8" class="idref" href="#x:8"><span class="id" title="binder">x</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a>) (<a id="s:9" class="idref" href="#s:9"><span class="id" title="binder">s</span></a>: <a class="idref" href="lec_10_lambda.html#tm"><span class="id" title="inductive">tm</span></a>) (<a id="t:10" class="idref" href="#t:10"><span class="id" title="binder">t</span></a>: <a class="idref" href="lec_10_lambda.html#tm"><span class="id" title="inductive">tm</span></a>): <a class="idref" href="lec_10_lambda.html#tm"><span class="id" title="inductive">tm</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="lec_10_lambda.html#t:10"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="lec_10_lambda.html#tm_var"><span class="id" title="constructor">tm_var</span></a> <span class="id" title="var">y</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="lec_10_lambda.html#eqb_string"><span class="id" title="definition">eqb_string</span></a> <a class="idref" href="lec_10_lambda.html#x:8"><span class="id" title="variable">x</span></a> <span class="id" title="var">y</span> <span class="id" title="keyword">then</span> <a class="idref" href="lec_10_lambda.html#s:9"><span class="id" title="variable">s</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="lec_10_lambda.html#t:10"><span class="id" title="variable">t</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">&lt;{</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">\</span></a><span class="id" title="var">y</span><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">,</span></a> <span class="id" title="var">t1</span><a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">}&gt;</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="t1':13" class="idref" href="#t1':13"><span class="id" title="binder">t1'</span></a> := <a class="idref" href="lec_10_lambda.html#subst_wrong:11"><span class="id" title="definition">subst_wrong</span></a> <a class="idref" href="lec_10_lambda.html#x:8"><span class="id" title="variable">x</span></a> <a class="idref" href="lec_10_lambda.html#s:9"><span class="id" title="variable">s</span></a> <span class="id" title="var">t1</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">\</span></a><span class="id" title="var">y</span><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">,</span></a> <a class="idref" href="lec_10_lambda.html#t1':13"><span class="id" title="variable">t1'</span></a> <a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">}&gt;</span></a> <span class="comment">(*&nbsp;wrong&nbsp;*)</span><br/>
&nbsp;&nbsp;| <a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">&lt;{</span></a><span class="id" title="var">t1</span> <span class="id" title="var">t2</span><a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">}&gt;</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="t1':14" class="idref" href="#t1':14"><span class="id" title="binder">t1'</span></a> := <a class="idref" href="lec_10_lambda.html#subst_wrong:11"><span class="id" title="definition">subst_wrong</span></a> <a class="idref" href="lec_10_lambda.html#x:8"><span class="id" title="variable">x</span></a> <a class="idref" href="lec_10_lambda.html#s:9"><span class="id" title="variable">s</span></a> <span class="id" title="var">t1</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="t2':15" class="idref" href="#t2':15"><span class="id" title="binder">t2'</span></a> := <a class="idref" href="lec_10_lambda.html#subst_wrong:11"><span class="id" title="definition">subst_wrong</span></a> <a class="idref" href="lec_10_lambda.html#x:8"><span class="id" title="variable">x</span></a> <a class="idref" href="lec_10_lambda.html#s:9"><span class="id" title="variable">s</span></a> <span class="id" title="var">t2</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="lec_10_lambda.html#t1':14"><span class="id" title="variable">t1'</span></a> <a class="idref" href="lec_10_lambda.html#t2':15"><span class="id" title="variable">t2'</span></a> <a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">}&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">

<div class="paragraph"> </div>

<ul class="doclist">
<li> It is helpful to look at a few examples to see where this
     definition of substitution goes wrong.

</li>
</ul>
 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Eval</span> <span class="id" title="tactic">compute</span> <span class="id" title="tactic">in</span> <a class="idref" href="lec_10_lambda.html#subst_wrong"><span class="id" title="definition">subst_wrong</span></a> <a class="idref" href="lec_10_lambda.html#f"><span class="id" title="definition">f</span></a> <a class="idref" href="lec_10_lambda.html#y"><span class="id" title="definition">y</span></a> <a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">\</span></a><a class="idref" href="lec_10_lambda.html#x"><span class="id" title="definition">x</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">,</span></a> <a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">(</span></a><a class="idref" href="lec_10_lambda.html#f"><span class="id" title="definition">f</span></a> <a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">(</span></a><a class="idref" href="lec_10_lambda.html#g"><span class="id" title="definition">g</span></a> <a class="idref" href="lec_10_lambda.html#x"><span class="id" title="definition">x</span></a><a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">))</span></a> <a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">}&gt;</span></a>.<br/>
</div>

<div class="doc">
Ok 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Eval</span> <span class="id" title="tactic">compute</span> <span class="id" title="tactic">in</span> <a class="idref" href="lec_10_lambda.html#subst_wrong"><span class="id" title="definition">subst_wrong</span></a> <a class="idref" href="lec_10_lambda.html#g"><span class="id" title="definition">g</span></a> <a class="idref" href="lec_10_lambda.html#y"><span class="id" title="definition">y</span></a> <a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">\</span></a><a class="idref" href="lec_10_lambda.html#x"><span class="id" title="definition">x</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">,</span></a> <a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">(</span></a><a class="idref" href="lec_10_lambda.html#f"><span class="id" title="definition">f</span></a> <a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">(</span></a><a class="idref" href="lec_10_lambda.html#g"><span class="id" title="definition">g</span></a> <a class="idref" href="lec_10_lambda.html#x"><span class="id" title="definition">x</span></a><a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">))</span></a> <a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">}&gt;</span></a>.<br/>
</div>

<div class="doc">
Ok 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Eval</span> <span class="id" title="tactic">compute</span> <span class="id" title="tactic">in</span> <a class="idref" href="lec_10_lambda.html#subst_wrong"><span class="id" title="definition">subst_wrong</span></a> <a class="idref" href="lec_10_lambda.html#x"><span class="id" title="definition">x</span></a> <a class="idref" href="lec_10_lambda.html#y"><span class="id" title="definition">y</span></a> <a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">(</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">\</span></a><a class="idref" href="lec_10_lambda.html#x"><span class="id" title="definition">x</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">,</span></a> <a class="idref" href="lec_10_lambda.html#x"><span class="id" title="definition">x</span></a><a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">)</span></a> <a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">}&gt;</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab15"></a><h3 class="section">Why is this wrong?</h3>


<div class="paragraph"> </div>

<ul class="doclist">
<li> We haven't given the semantics of lambda calculus yet.

</li>
<li> But intuitively we might expect this to be wrong.

</li>
<li> Because we changed an identity function into a non-identity function after
     we performed the substitution.

</li>
<li> One possible fix is to not substitute in this case, which will lead to a 
     concept called capture-avoid substitution.

</li>
</ul>

<div class="paragraph"> </div>

<a id="lab16"></a><h3 class="section">Capture-avoid Substitution</h3>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Reserved Notation</span> &quot;'[' x ':=' s ']' t" (<span class="id" title="tactic">in</span> <span class="id" title="var">custom</span> <span class="id" title="var">lambda</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 20, <span class="id" title="var">x</span> <span class="id" title="keyword">constr</span>).<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="subst" class="idref" href="#subst"><span class="id" title="definition">subst</span></a> (<a id="x:16" class="idref" href="#x:16"><span class="id" title="binder">x</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a>) (<a id="s:17" class="idref" href="#s:17"><span class="id" title="binder">s</span></a>: <a class="idref" href="lec_10_lambda.html#tm"><span class="id" title="inductive">tm</span></a>) (<a id="t:18" class="idref" href="#t:18"><span class="id" title="binder">t</span></a>: <a class="idref" href="lec_10_lambda.html#tm"><span class="id" title="inductive">tm</span></a>) : <a class="idref" href="lec_10_lambda.html#tm"><span class="id" title="inductive">tm</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="lec_10_lambda.html#t:18"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="lec_10_lambda.html#tm_var"><span class="id" title="constructor">tm_var</span></a> <span class="id" title="var">y</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="lec_10_lambda.html#eqb_string"><span class="id" title="definition">eqb_string</span></a> <a class="idref" href="lec_10_lambda.html#x:16"><span class="id" title="variable">x</span></a> <span class="id" title="var">y</span> <span class="id" title="keyword">then</span> <a class="idref" href="lec_10_lambda.html#s:17"><span class="id" title="variable">s</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="lec_10_lambda.html#t:18"><span class="id" title="variable">t</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">&lt;{</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">\</span></a><span class="id" title="var">y</span><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">,</span></a> <span class="id" title="var">t1</span><a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">}&gt;</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="lec_10_lambda.html#eqb_string"><span class="id" title="definition">eqb_string</span></a> <a class="idref" href="lec_10_lambda.html#x:16"><span class="id" title="variable">x</span></a> <span class="id" title="var">y</span> <span class="id" title="keyword">then</span> <a class="idref" href="lec_10_lambda.html#t:18"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">&lt;{</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">\</span></a><span class="id" title="var">y</span><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">,</span></a> <a class="idref" href="lec_10_lambda.html#5e4d39aa76d8f02b311e0818e59bd40a"><span class="id" title="notation">[</span></a><a class="idref" href="lec_10_lambda.html#x:16"><span class="id" title="variable">x</span></a><a class="idref" href="lec_10_lambda.html#5e4d39aa76d8f02b311e0818e59bd40a"><span class="id" title="notation">:=</span></a><a class="idref" href="lec_10_lambda.html#s:17"><span class="id" title="variable">s</span></a><a class="idref" href="lec_10_lambda.html#5e4d39aa76d8f02b311e0818e59bd40a"><span class="id" title="notation">]</span></a> <span class="id" title="var">t1</span><a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">}&gt;</span></a> <span class="comment">(*&nbsp;fixed&nbsp;here&nbsp;*)</span><br/>
&nbsp;&nbsp;| <a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">&lt;{</span></a><span class="id" title="var">t1</span> <span class="id" title="var">t2</span><a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">}&gt;</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">&lt;{</span></a><a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">(</span></a><a class="idref" href="lec_10_lambda.html#5e4d39aa76d8f02b311e0818e59bd40a"><span class="id" title="notation">[</span></a><a class="idref" href="lec_10_lambda.html#x:16"><span class="id" title="variable">x</span></a><a class="idref" href="lec_10_lambda.html#5e4d39aa76d8f02b311e0818e59bd40a"><span class="id" title="notation">:=</span></a><a class="idref" href="lec_10_lambda.html#s:17"><span class="id" title="variable">s</span></a><a class="idref" href="lec_10_lambda.html#5e4d39aa76d8f02b311e0818e59bd40a"><span class="id" title="notation">]</span></a> <span class="id" title="var">t1</span><a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">)</span></a> <a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">(</span></a><a class="idref" href="lec_10_lambda.html#5e4d39aa76d8f02b311e0818e59bd40a"><span class="id" title="notation">[</span></a><a class="idref" href="lec_10_lambda.html#x:16"><span class="id" title="variable">x</span></a><a class="idref" href="lec_10_lambda.html#5e4d39aa76d8f02b311e0818e59bd40a"><span class="id" title="notation">:=</span></a><a class="idref" href="lec_10_lambda.html#s:17"><span class="id" title="variable">s</span></a><a class="idref" href="lec_10_lambda.html#5e4d39aa76d8f02b311e0818e59bd40a"><span class="id" title="notation">]</span></a> <span class="id" title="var">t2</span><a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">)</span></a><a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">}&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
<span class="id" title="keyword">where</span> <a id="5e4d39aa76d8f02b311e0818e59bd40a" class="idref" href="#5e4d39aa76d8f02b311e0818e59bd40a"><span class="id" title="notation">&quot;</span></a>'[' x ':=' s ']' t" := (<a class="idref" href="lec_10_lambda.html#subst:19"><span class="id" title="definition">subst</span></a> <span class="id" title="var">x</span> <span class="id" title="var">s</span> <span class="id" title="var">t</span>) (<span class="id" title="tactic">in</span> <span class="id" title="var">custom</span> <span class="id" title="var">lambda</span>).<br/>

<br/>
<span class="id" title="keyword">Eval</span> <span class="id" title="tactic">compute</span> <span class="id" title="tactic">in</span> <a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">&lt;{</span></a><a class="idref" href="lec_10_lambda.html#5e4d39aa76d8f02b311e0818e59bd40a"><span class="id" title="notation">[</span></a><a class="idref" href="lec_10_lambda.html#g"><span class="id" title="definition">g</span></a> <a class="idref" href="lec_10_lambda.html#5e4d39aa76d8f02b311e0818e59bd40a"><span class="id" title="notation">:=</span></a> <a class="idref" href="lec_10_lambda.html#y"><span class="id" title="definition">y</span></a><a class="idref" href="lec_10_lambda.html#5e4d39aa76d8f02b311e0818e59bd40a"><span class="id" title="notation">]</span></a> <a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">\</span></a><a class="idref" href="lec_10_lambda.html#x"><span class="id" title="definition">x</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">,</span></a> <a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">(</span></a><a class="idref" href="lec_10_lambda.html#f"><span class="id" title="definition">f</span></a> <a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">(</span></a><a class="idref" href="lec_10_lambda.html#g"><span class="id" title="definition">g</span></a> <a class="idref" href="lec_10_lambda.html#x"><span class="id" title="definition">x</span></a><a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">))</span></a> <a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">}&gt;</span></a>.<br/>
<span class="comment">(*&nbsp;Ok&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">Eval</span> <span class="id" title="tactic">compute</span> <span class="id" title="tactic">in</span> <a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">&lt;{</span></a><a class="idref" href="lec_10_lambda.html#5e4d39aa76d8f02b311e0818e59bd40a"><span class="id" title="notation">[</span></a><a class="idref" href="lec_10_lambda.html#g"><span class="id" title="definition">g</span></a> <a class="idref" href="lec_10_lambda.html#5e4d39aa76d8f02b311e0818e59bd40a"><span class="id" title="notation">:=</span></a> <a class="idref" href="lec_10_lambda.html#y"><span class="id" title="definition">y</span></a><a class="idref" href="lec_10_lambda.html#5e4d39aa76d8f02b311e0818e59bd40a"><span class="id" title="notation">]</span></a> <a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">\</span></a><a class="idref" href="lec_10_lambda.html#x"><span class="id" title="definition">x</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">,</span></a> <a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">(</span></a><a class="idref" href="lec_10_lambda.html#f"><span class="id" title="definition">f</span></a> <a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">(</span></a><a class="idref" href="lec_10_lambda.html#g"><span class="id" title="definition">g</span></a> <a class="idref" href="lec_10_lambda.html#x"><span class="id" title="definition">x</span></a><a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">))</span></a> <a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">}&gt;</span></a>.<br/>
<span class="comment">(*&nbsp;Ok&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">Eval</span> <span class="id" title="tactic">compute</span> <span class="id" title="tactic">in</span> <a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">&lt;{</span></a><a class="idref" href="lec_10_lambda.html#5e4d39aa76d8f02b311e0818e59bd40a"><span class="id" title="notation">[</span></a><a class="idref" href="lec_10_lambda.html#x"><span class="id" title="definition">x</span></a> <a class="idref" href="lec_10_lambda.html#5e4d39aa76d8f02b311e0818e59bd40a"><span class="id" title="notation">:=</span></a> <a class="idref" href="lec_10_lambda.html#y"><span class="id" title="definition">y</span></a><a class="idref" href="lec_10_lambda.html#5e4d39aa76d8f02b311e0818e59bd40a"><span class="id" title="notation">]</span></a> <a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">(</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">\</span></a><a class="idref" href="lec_10_lambda.html#x"><span class="id" title="definition">x</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">,</span></a> <a class="idref" href="lec_10_lambda.html#x"><span class="id" title="definition">x</span></a><a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">)</span></a> <a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">}&gt;</span></a>.<br/>
<span class="comment">(*&nbsp;Ok&nbsp;*)</span><br/>

<br/>
</div>

<div class="doc">
<a id="lab17"></a><h2 class="section">Call-by-value semantics</h2>

<div class="paragraph"> </div>


<div class="paragraph"> </div>

<ul class="doclist">
<li> Before we define semantics, we will need to introduce values.

</li>
</ul>
 
<div class="paragraph"> </div>

<a id="lab18"></a><h3 class="section">Values</h3>


<div class="paragraph"> </div>

<ul class="doclist">
<li> A <i>value</i> is a syntactically-identified subset of terms that signals
      that there is no more computation left to be run.

</li>
<li> We will need values to define small-step semantics.

</li>
<li> In lambda calculus, there is only 1 value: a lambda.

</li>
</ul>

</div>
<div class="code">
<span class="comment">(*<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;---------------------&nbsp;v_abs<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;(\x.&nbsp;t)<br/>
&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a id="value" class="idref" href="#value"><span class="id" title="inductive">value</span></a> : <a class="idref" href="lec_10_lambda.html#tm"><span class="id" title="inductive">tm</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a id="v_abs" class="idref" href="#v_abs"><span class="id" title="constructor">v_abs</span></a> : <span class="id" title="keyword">forall</span> <a id="x:23" class="idref" href="#x:23"><span class="id" title="binder">x</span></a> <a id="t1:24" class="idref" href="#t1:24"><span class="id" title="binder">t1</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="lec_10_lambda.html#value:21"><span class="id" title="inductive">value</span></a> <a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">&lt;{</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">\</span></a><a class="idref" href="lec_10_lambda.html#x:23"><span class="id" title="variable">x</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">,</span></a> <a class="idref" href="lec_10_lambda.html#t1:24"><span class="id" title="variable">t1</span></a><a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">}&gt;</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab19"></a><h3 class="section">Call-by-value Semantics</h3>

</div>
<div class="code">
<span class="comment">(*<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;t1&nbsp;--&gt;&nbsp;t1'<br/>
&nbsp;&nbsp;&nbsp;--------------------&nbsp;cbv_app1<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;t1&nbsp;t2&nbsp;--&gt;&nbsp;t1'&nbsp;t2<br/>
<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;t1&nbsp;&nbsp;&nbsp;t2&nbsp;--&gt;&nbsp;t2'<br/>
&nbsp;&nbsp;&nbsp;------------------------&nbsp;cbv_app2<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;t1&nbsp;t2&nbsp;--&gt;&nbsp;t1&nbsp;t2'<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;v<br/>
&nbsp;&nbsp;&nbsp;------------------------&nbsp;cbv_beta<br/>
&nbsp;&nbsp;&nbsp;(\x.&nbsp;t)&nbsp;v&nbsp;--&gt;&nbsp;<span class="inlinecode"><span class="id" title="var">x</span></span> <span class="inlinecode">:=</span> <span class="inlinecode"><span class="id" title="var">v</span></span>&nbsp;t<br/>
<br/>
&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">Reserved Notation</span> &quot; t '--&gt;' t' "<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 40, <span class="id" title="var">t'</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 39).<br/>
<span class="id" title="keyword">Inductive</span> <a id="cbv_step" class="idref" href="#cbv_step"><span class="id" title="inductive">cbv_step</span></a> : <a class="idref" href="lec_10_lambda.html#tm"><span class="id" title="inductive">tm</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="lec_10_lambda.html#tm"><span class="id" title="inductive">tm</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
| <a id="cbv_app1" class="idref" href="#cbv_app1"><span class="id" title="constructor">cbv_app1</span></a> : <span class="id" title="keyword">forall</span> <a id="t1:27" class="idref" href="#t1:27"><span class="id" title="binder">t1</span></a> <a id="t2:28" class="idref" href="#t2:28"><span class="id" title="binder">t2</span></a> <a id="t1':29" class="idref" href="#t1':29"><span class="id" title="binder">t1'</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="lec_10_lambda.html#t1:27"><span class="id" title="variable">t1</span></a> <a class="idref" href="lec_10_lambda.html#:::x_'--&gt;'_x"><span class="id" title="notation">--&gt;</span></a> <a class="idref" href="lec_10_lambda.html#t1':29"><span class="id" title="variable">t1'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="lec_10_lambda.html#t1:27"><span class="id" title="variable">t1</span></a> <a class="idref" href="lec_10_lambda.html#t2:28"><span class="id" title="variable">t2</span></a> <a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="lec_10_lambda.html#:::x_'--&gt;'_x"><span class="id" title="notation">--&gt;</span></a> <a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="lec_10_lambda.html#t1':29"><span class="id" title="variable">t1'</span></a> <a class="idref" href="lec_10_lambda.html#t2:28"><span class="id" title="variable">t2</span></a> <a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">}&gt;</span></a><br/>
| <a id="cbv_app2" class="idref" href="#cbv_app2"><span class="id" title="constructor">cbv_app2</span></a> : <span class="id" title="keyword">forall</span> <a id="v:30" class="idref" href="#v:30"><span class="id" title="binder">v</span></a> <a id="t2:31" class="idref" href="#t2:31"><span class="id" title="binder">t2</span></a> <a id="t2':32" class="idref" href="#t2':32"><span class="id" title="binder">t2'</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="lec_10_lambda.html#value"><span class="id" title="inductive">value</span></a> <a class="idref" href="lec_10_lambda.html#v:30"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="lec_10_lambda.html#t2:31"><span class="id" title="variable">t2</span></a> <a class="idref" href="lec_10_lambda.html#:::x_'--&gt;'_x"><span class="id" title="notation">--&gt;</span></a> <a class="idref" href="lec_10_lambda.html#t2':32"><span class="id" title="variable">t2'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="lec_10_lambda.html#v:30"><span class="id" title="variable">v</span></a> <a class="idref" href="lec_10_lambda.html#t2:31"><span class="id" title="variable">t2</span></a> <a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="lec_10_lambda.html#:::x_'--&gt;'_x"><span class="id" title="notation">--&gt;</span></a>  <a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="lec_10_lambda.html#v:30"><span class="id" title="variable">v</span></a> <a class="idref" href="lec_10_lambda.html#t2':32"><span class="id" title="variable">t2'</span></a> <a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">}&gt;</span></a><br/>
| <a id="cbv_beta" class="idref" href="#cbv_beta"><span class="id" title="constructor">cbv_beta</span></a> : <span class="id" title="keyword">forall</span> <a id="x:33" class="idref" href="#x:33"><span class="id" title="binder">x</span></a> <a id="t:34" class="idref" href="#t:34"><span class="id" title="binder">t</span></a> <a id="v:35" class="idref" href="#v:35"><span class="id" title="binder">v</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="lec_10_lambda.html#value"><span class="id" title="inductive">value</span></a> <a class="idref" href="lec_10_lambda.html#v:35"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">(</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">\</span></a><a class="idref" href="lec_10_lambda.html#x:33"><span class="id" title="variable">x</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">,</span></a> <a class="idref" href="lec_10_lambda.html#t:34"><span class="id" title="variable">t</span></a><a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">)</span></a> <a class="idref" href="lec_10_lambda.html#v:35"><span class="id" title="variable">v</span></a> <a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="lec_10_lambda.html#:::x_'--&gt;'_x"><span class="id" title="notation">--&gt;</span></a>  <a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="lec_10_lambda.html#5e4d39aa76d8f02b311e0818e59bd40a"><span class="id" title="notation">[</span></a> <a class="idref" href="lec_10_lambda.html#x:33"><span class="id" title="variable">x</span></a><a class="idref" href="lec_10_lambda.html#5e4d39aa76d8f02b311e0818e59bd40a"><span class="id" title="notation">:=</span></a> <a class="idref" href="lec_10_lambda.html#v:35"><span class="id" title="variable">v</span></a><a class="idref" href="lec_10_lambda.html#5e4d39aa76d8f02b311e0818e59bd40a"><span class="id" title="notation">]</span></a> <a class="idref" href="lec_10_lambda.html#t:34"><span class="id" title="variable">t</span></a> <a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">}&gt;</span></a><br/>
<span class="id" title="keyword">where</span> <a id=":::x_'--&gt;'_x" class="idref" href="#:::x_'--&gt;'_x"><span class="id" title="notation">&quot;</span></a> t '--&gt;' t' " := (<a class="idref" href="lec_10_lambda.html#cbv_step:26"><span class="id" title="inductive">cbv_step</span></a> <span class="id" title="var">t</span> <span class="id" title="var">t'</span>).<br/>

<br/>
</div>

<div class="doc">
<a id="lab20"></a><h3 class="section">Multi-step reduction</h3>

</div>
<div class="code">
<span class="id" title="keyword">Notation</span> <a id="multistep" class="idref" href="#multistep"><span class="id" title="abbreviation">multistep</span></a> := (<span class="id" title="inductive">multi</span> <a class="idref" href="lec_10_lambda.html#cbv_step"><span class="id" title="inductive">cbv_step</span></a>).<br/>
<span class="id" title="keyword">Notation</span> <a id="a781e4b1e2c022f0326182a9bd099911" class="idref" href="#a781e4b1e2c022f0326182a9bd099911"><span class="id" title="notation">&quot;</span></a>t1 '--&gt;*' t2" := (<a class="idref" href="lec_10_lambda.html#multistep"><span class="id" title="abbreviation">multistep</span></a> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 40).<br/>

<br/>
</div>

<div class="doc">
<a id="lab21"></a><h3 class="section">Example 1</h3>

</div>
<div class="code">
<span class="comment">(*<br/>
<br/>
&nbsp;&nbsp;&nbsp;(\x,&nbsp;x)&nbsp;(\x,&nbsp;x)&nbsp;--&gt;*&nbsp;(\x,&nbsp;x)<br/>
<br/>
&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">Example</span> <a id="cbv_ex1" class="idref" href="#cbv_ex1"><span class="id" title="definition">cbv_ex1</span></a>:<br/>
&nbsp;&nbsp;<a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">(</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">\</span></a><a class="idref" href="lec_10_lambda.html#x"><span class="id" title="definition">x</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">,</span></a> <a class="idref" href="lec_10_lambda.html#x"><span class="id" title="definition">x</span></a><a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">)</span></a> <a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">(</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">\</span></a><a class="idref" href="lec_10_lambda.html#x"><span class="id" title="definition">x</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">,</span></a> <a class="idref" href="lec_10_lambda.html#x"><span class="id" title="definition">x</span></a><a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">)</span></a> <a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="lec_10_lambda.html#a781e4b1e2c022f0326182a9bd099911"><span class="id" title="notation">--&gt;*</span></a> <a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">(</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">\</span></a><a class="idref" href="lec_10_lambda.html#x"><span class="id" title="definition">x</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">,</span></a> <a class="idref" href="lec_10_lambda.html#x"><span class="id" title="definition">x</span></a><a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">)</span></a> <a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">}&gt;</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="constructor">multi_step</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="lec_10_lambda.html#cbv_beta"><span class="id" title="constructor">cbv_beta</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="lec_10_lambda.html#v_abs"><span class="id" title="constructor">v_abs</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab22"></a><h3 class="section">Example 2</h3>

</div>
<div class="code">
<span class="comment">(*<br/>
<br/>
&nbsp;&nbsp;&nbsp;((\x,&nbsp;\y,&nbsp;x)&nbsp;(\x,&nbsp;x))&nbsp;((\x,&nbsp;\y,&nbsp;x)&nbsp;(\x,&nbsp;x))&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--&gt;<br/>
&nbsp;&nbsp;&nbsp;((\y,&nbsp;(\x,&nbsp;x))&nbsp;((\x,&nbsp;\y,&nbsp;x)&nbsp;(\x,&nbsp;x))&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--&gt;<br/>
&nbsp;&nbsp;&nbsp;((\y,&nbsp;(\x,&nbsp;x))&nbsp;((\y,&nbsp;(\x,&nbsp;x))&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--&gt;<br/>
&nbsp;&nbsp;&nbsp;(\x,&nbsp;x)<br/>
<br/>
&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">Example</span> <a id="cbv_ex2" class="idref" href="#cbv_ex2"><span class="id" title="definition">cbv_ex2</span></a>:<br/>
&nbsp;&nbsp;<a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">((</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">\</span></a><a class="idref" href="lec_10_lambda.html#x"><span class="id" title="definition">x</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">,</span></a> <a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">\</span></a><a class="idref" href="lec_10_lambda.html#y"><span class="id" title="definition">y</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">,</span></a> <a class="idref" href="lec_10_lambda.html#x"><span class="id" title="definition">x</span></a><a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">)</span></a> <a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">(</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">\</span></a><a class="idref" href="lec_10_lambda.html#x"><span class="id" title="definition">x</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">,</span></a> <a class="idref" href="lec_10_lambda.html#x"><span class="id" title="definition">x</span></a><a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">))</span></a> <a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">((</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">\</span></a><a class="idref" href="lec_10_lambda.html#x"><span class="id" title="definition">x</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">,</span></a> <a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">\</span></a><a class="idref" href="lec_10_lambda.html#y"><span class="id" title="definition">y</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">,</span></a> <a class="idref" href="lec_10_lambda.html#x"><span class="id" title="definition">x</span></a><a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">)</span></a> <a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">(</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">\</span></a><a class="idref" href="lec_10_lambda.html#x"><span class="id" title="definition">x</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">,</span></a> <a class="idref" href="lec_10_lambda.html#x"><span class="id" title="definition">x</span></a><a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">))</span></a> <a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="lec_10_lambda.html#a781e4b1e2c022f0326182a9bd099911"><span class="id" title="notation">--&gt;*</span></a> <a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">\</span></a><a class="idref" href="lec_10_lambda.html#x"><span class="id" title="definition">x</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">,</span></a> <a class="idref" href="lec_10_lambda.html#x"><span class="id" title="definition">x</span></a> <a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">}&gt;</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="constructor">multi_step</span>.<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="lec_10_lambda.html#cbv_app1"><span class="id" title="constructor">cbv_app1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="lec_10_lambda.html#cbv_beta"><span class="id" title="constructor">cbv_beta</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="lec_10_lambda.html#v_abs"><span class="id" title="constructor">v_abs</span></a>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="constructor">multi_step</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="lec_10_lambda.html#cbv_app2"><span class="id" title="constructor">cbv_app2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="lec_10_lambda.html#v_abs"><span class="id" title="constructor">v_abs</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="lec_10_lambda.html#cbv_beta"><span class="id" title="constructor">cbv_beta</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="lec_10_lambda.html#v_abs"><span class="id" title="constructor">v_abs</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="constructor">multi_step</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="lec_10_lambda.html#cbv_beta"><span class="id" title="constructor">cbv_beta</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="lec_10_lambda.html#v_abs"><span class="id" title="constructor">v_abs</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="constructor">multi_refl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;}<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab23"></a><h3 class="section">Large-step semantics</h3>

</div>
<div class="code">
<span class="comment">(*<br/>
<br/>
&nbsp;&nbsp;&nbsp;------------&nbsp;cbv_refl'<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;v&nbsp;==&gt;&nbsp;v<br/>
<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;v'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;v<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;t0&nbsp;==&gt;&nbsp;\x,&nbsp;t&nbsp;&nbsp;&nbsp;t1&nbsp;==&gt;&nbsp;v'&nbsp;&nbsp;&nbsp;<span class="inlinecode"><span class="id" title="var">x</span></span> <span class="inlinecode">:=</span> <span class="inlinecode"><span class="id" title="var">v'</span></span>&nbsp;t&nbsp;==&gt;&nbsp;v<br/>
&nbsp;&nbsp;&nbsp;--------------------------------------------------&nbsp;cbv_beta'<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;t0&nbsp;t1&nbsp;==&gt;&nbsp;v<br/>
<br/>
&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">Reserved Notation</span> &quot; t '==&gt;' v "<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 40, <span class="id" title="var">v</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 39).<br/>
<span class="id" title="keyword">Inductive</span> <a id="cbv_big_step" class="idref" href="#cbv_big_step"><span class="id" title="inductive">cbv_big_step</span></a> : <a class="idref" href="lec_10_lambda.html#tm"><span class="id" title="inductive">tm</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="lec_10_lambda.html#tm"><span class="id" title="inductive">tm</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
| <a id="cbv_refl'" class="idref" href="#cbv_refl'"><span class="id" title="constructor">cbv_refl'</span></a> : <span class="id" title="keyword">forall</span> <a id="v:38" class="idref" href="#v:38"><span class="id" title="binder">v</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="lec_10_lambda.html#value"><span class="id" title="inductive">value</span></a> <a class="idref" href="lec_10_lambda.html#v:38"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="lec_10_lambda.html#v:38"><span class="id" title="variable">v</span></a> <a class="idref" href="lec_10_lambda.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="lec_10_lambda.html#v:38"><span class="id" title="variable">v</span></a><br/>
| <a id="cbv_beta'" class="idref" href="#cbv_beta'"><span class="id" title="constructor">cbv_beta'</span></a> : <span class="id" title="keyword">forall</span> <a id="x:39" class="idref" href="#x:39"><span class="id" title="binder">x</span></a> <a id="t:40" class="idref" href="#t:40"><span class="id" title="binder">t</span></a> <a id="t0:41" class="idref" href="#t0:41"><span class="id" title="binder">t0</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="lec_10_lambda.html#t0:41"><span class="id" title="variable">t0</span></a> <a class="idref" href="lec_10_lambda.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">\</span></a><a class="idref" href="lec_10_lambda.html#x:39"><span class="id" title="variable">x</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">,</span></a> <a class="idref" href="lec_10_lambda.html#t:40"><span class="id" title="variable">t</span></a> <a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="v':42" class="idref" href="#v':42"><span class="id" title="binder">v'</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="lec_10_lambda.html#value"><span class="id" title="inductive">value</span></a> <a class="idref" href="lec_10_lambda.html#v':42"><span class="id" title="variable">v'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="t1:43" class="idref" href="#t1:43"><span class="id" title="binder">t1</span></a>, <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="lec_10_lambda.html#t1:43"><span class="id" title="variable">t1</span></a> <a class="idref" href="lec_10_lambda.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="lec_10_lambda.html#v':42"><span class="id" title="variable">v'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="v:44" class="idref" href="#v:44"><span class="id" title="binder">v</span></a>, <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="lec_10_lambda.html#value"><span class="id" title="inductive">value</span></a> <a class="idref" href="lec_10_lambda.html#v:44"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="lec_10_lambda.html#5e4d39aa76d8f02b311e0818e59bd40a"><span class="id" title="notation">[</span></a><a class="idref" href="lec_10_lambda.html#x:39"><span class="id" title="variable">x</span></a> <a class="idref" href="lec_10_lambda.html#5e4d39aa76d8f02b311e0818e59bd40a"><span class="id" title="notation">:=</span></a> <a class="idref" href="lec_10_lambda.html#v':42"><span class="id" title="variable">v'</span></a><a class="idref" href="lec_10_lambda.html#5e4d39aa76d8f02b311e0818e59bd40a"><span class="id" title="notation">]</span></a> <a class="idref" href="lec_10_lambda.html#t:40"><span class="id" title="variable">t</span></a> <a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="lec_10_lambda.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="lec_10_lambda.html#v:44"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="lec_10_lambda.html#t0:41"><span class="id" title="variable">t0</span></a> <a class="idref" href="lec_10_lambda.html#t1:43"><span class="id" title="variable">t1</span></a> <a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="lec_10_lambda.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="lec_10_lambda.html#v:44"><span class="id" title="variable">v</span></a><br/>
<span class="id" title="keyword">where</span> <a id="7cf9375cc810cd6cb65186f6ede01686" class="idref" href="#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">&quot;</span></a> t '==&gt;' v " := (<a class="idref" href="lec_10_lambda.html#cbv_big_step:37"><span class="id" title="inductive">cbv_big_step</span></a> <span class="id" title="var">t</span> <span class="id" title="var">v</span>).<br/>

<br/>
</div>

<div class="doc">
<a id="lab24"></a><h3 class="section">Call-by-value is deterministic</h3>


<div class="paragraph"> </div>

<ul class="doclist">
<li> It's a function, so we just need the relation for non-termination.

</li>
</ul>
 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="cbv_deterministic" class="idref" href="#cbv_deterministic"><span class="id" title="lemma">cbv_deterministic</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="t:45" class="idref" href="#t:45"><span class="id" title="binder">t</span></a> <a id="t':46" class="idref" href="#t':46"><span class="id" title="binder">t'</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="lec_10_lambda.html#t:45"><span class="id" title="variable">t</span></a> <a class="idref" href="lec_10_lambda.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="lec_10_lambda.html#t':46"><span class="id" title="variable">t'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="t'':47" class="idref" href="#t'':47"><span class="id" title="binder">t''</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="lec_10_lambda.html#t:45"><span class="id" title="variable">t</span></a> <a class="idref" href="lec_10_lambda.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="lec_10_lambda.html#t'':47"><span class="id" title="variable">t''</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="lec_10_lambda.html#t':46"><span class="id" title="variable">t'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="lec_10_lambda.html#t'':47"><span class="id" title="variable">t''</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">t</span> <span class="id" title="var">t'</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;{ <span class="comment">(*&nbsp;cbv_refl'&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{ <span class="comment">(*&nbsp;cbv_beta'&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H2</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHcbv_big_step3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H4</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">inversion</span> <span class="id" title="var">H5</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">inversion</span> <span class="id" title="var">H10</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHcbv_big_step1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H7</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H7</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H8</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHcbv_big_step2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H9</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H9</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;}<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab25"></a><h2 class="section">Call-by-need semantics</h2>

<div class="paragraph"> </div>

<a id="lab26"></a><h3 class="section">Motivation</h3>


<div class="paragraph"> </div>

<ul class="doclist">
<li> Up until this point, we have only looked at eager evaluation where
      we evaluate terms to values before performing further reductions. 

</li>
<li> What if we computed the values on demand, i.e., when we needed them?

</li>
<li> This is what *call-by-need* semantics does.

</li>
</ul>
 
<div class="paragraph"> </div>

<a id="lab27"></a><h3 class="section">Call-by-need Semantics</h3>

</div>
<div class="code">
<span class="comment">(*<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;t1&nbsp;--&gt;&nbsp;t1'<br/>
&nbsp;&nbsp;&nbsp;--------------------&nbsp;cbn_app<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;t1&nbsp;t2&nbsp;--&gt;&nbsp;t1'&nbsp;t2<br/>
<br/>
<br/>
&nbsp;&nbsp;&nbsp;------------------------------&nbsp;cbn_beta<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(\x.&nbsp;t1)&nbsp;t2&nbsp;--&gt;&nbsp;<span class="inlinecode"><span class="id" title="var">x</span></span> <span class="inlinecode">:=</span> <span class="inlinecode"><span class="id" title="var">t2</span></span>&nbsp;t1<br/>
<br/>
&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">Reserved Notation</span> &quot; t '---&gt;' t' "<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 40, <span class="id" title="var">t'</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 39).<br/>
<span class="id" title="keyword">Inductive</span> <a id="cbn_step" class="idref" href="#cbn_step"><span class="id" title="inductive">cbn_step</span></a> : <a class="idref" href="lec_10_lambda.html#tm"><span class="id" title="inductive">tm</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="lec_10_lambda.html#tm"><span class="id" title="inductive">tm</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
| <a id="cbn_app" class="idref" href="#cbn_app"><span class="id" title="constructor">cbn_app</span></a> : <span class="id" title="keyword">forall</span> <a id="t1:50" class="idref" href="#t1:50"><span class="id" title="binder">t1</span></a> <a id="t2:51" class="idref" href="#t2:51"><span class="id" title="binder">t2</span></a> <a id="t1':52" class="idref" href="#t1':52"><span class="id" title="binder">t1'</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="lec_10_lambda.html#t1:50"><span class="id" title="variable">t1</span></a> <a class="idref" href="lec_10_lambda.html#:::x_'---&gt;'_x"><span class="id" title="notation">---&gt;</span></a> <a class="idref" href="lec_10_lambda.html#t1':52"><span class="id" title="variable">t1'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="lec_10_lambda.html#t1:50"><span class="id" title="variable">t1</span></a> <a class="idref" href="lec_10_lambda.html#t2:51"><span class="id" title="variable">t2</span></a> <a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="lec_10_lambda.html#:::x_'---&gt;'_x"><span class="id" title="notation">---&gt;</span></a> <a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="lec_10_lambda.html#t1':52"><span class="id" title="variable">t1'</span></a> <a class="idref" href="lec_10_lambda.html#t2:51"><span class="id" title="variable">t2</span></a> <a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">}&gt;</span></a><br/>
| <a id="cbn_beta" class="idref" href="#cbn_beta"><span class="id" title="constructor">cbn_beta</span></a> : <span class="id" title="keyword">forall</span> <a id="x:53" class="idref" href="#x:53"><span class="id" title="binder">x</span></a> <a id="t:54" class="idref" href="#t:54"><span class="id" title="binder">t</span></a> <a id="t':55" class="idref" href="#t':55"><span class="id" title="binder">t'</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">(</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">\</span></a><a class="idref" href="lec_10_lambda.html#x:53"><span class="id" title="variable">x</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">,</span></a> <a class="idref" href="lec_10_lambda.html#t:54"><span class="id" title="variable">t</span></a><a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">)</span></a> <a class="idref" href="lec_10_lambda.html#t':55"><span class="id" title="variable">t'</span></a> <a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="lec_10_lambda.html#:::x_'---&gt;'_x"><span class="id" title="notation">---&gt;</span></a> <a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="lec_10_lambda.html#5e4d39aa76d8f02b311e0818e59bd40a"><span class="id" title="notation">[</span></a><a class="idref" href="lec_10_lambda.html#x:53"><span class="id" title="variable">x</span></a> <a class="idref" href="lec_10_lambda.html#5e4d39aa76d8f02b311e0818e59bd40a"><span class="id" title="notation">:=</span></a> <a class="idref" href="lec_10_lambda.html#t':55"><span class="id" title="variable">t'</span></a><a class="idref" href="lec_10_lambda.html#5e4d39aa76d8f02b311e0818e59bd40a"><span class="id" title="notation">]</span></a> <a class="idref" href="lec_10_lambda.html#t:54"><span class="id" title="variable">t</span></a> <a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">}&gt;</span></a><br/>
<span class="id" title="keyword">where</span> <a id=":::x_'---&gt;'_x" class="idref" href="#:::x_'---&gt;'_x"><span class="id" title="notation">&quot;</span></a> t '---&gt;' t' " := (<a class="idref" href="lec_10_lambda.html#cbn_step:49"><span class="id" title="inductive">cbn_step</span></a> <span class="id" title="var">t</span> <span class="id" title="var">t'</span>).<br/>

<br/>
</div>

<div class="doc">
<a id="lab28"></a><h3 class="section">Multi-step reduction</h3>

</div>
<div class="code">
<span class="id" title="keyword">Notation</span> <a id="multistep'" class="idref" href="#multistep'"><span class="id" title="abbreviation">multistep'</span></a> := (<span class="id" title="inductive">multi</span> <a class="idref" href="lec_10_lambda.html#cbn_step"><span class="id" title="inductive">cbn_step</span></a>).<br/>
<span class="id" title="keyword">Notation</span> <a id="527fbf4b411746b74140518b8f7c4c66" class="idref" href="#527fbf4b411746b74140518b8f7c4c66"><span class="id" title="notation">&quot;</span></a>t1 '---&gt;*' t2" := (<a class="idref" href="lec_10_lambda.html#multistep'"><span class="id" title="abbreviation">multistep'</span></a> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 40).<br/>

<br/>
</div>

<div class="doc">
<a id="lab29"></a><h3 class="section">Example 1</h3>

</div>
<div class="code">
<span class="comment">(*<br/>
<br/>
&nbsp;&nbsp;&nbsp;(\x,&nbsp;x)&nbsp;(\x,&nbsp;x)&nbsp;---&gt;*&nbsp;(\x,&nbsp;x)<br/>
<br/>
&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">Example</span> <a id="cbn_ex1" class="idref" href="#cbn_ex1"><span class="id" title="definition">cbn_ex1</span></a>:<br/>
&nbsp;&nbsp;<a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">(</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">\</span></a><a class="idref" href="lec_10_lambda.html#x"><span class="id" title="definition">x</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">,</span></a> <a class="idref" href="lec_10_lambda.html#x"><span class="id" title="definition">x</span></a><a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">)</span></a> <a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">(</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">\</span></a><a class="idref" href="lec_10_lambda.html#x"><span class="id" title="definition">x</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">,</span></a> <a class="idref" href="lec_10_lambda.html#x"><span class="id" title="definition">x</span></a><a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">)</span></a> <a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="lec_10_lambda.html#527fbf4b411746b74140518b8f7c4c66"><span class="id" title="notation">---&gt;*</span></a> <a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">(</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">\</span></a><a class="idref" href="lec_10_lambda.html#x"><span class="id" title="definition">x</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">,</span></a> <a class="idref" href="lec_10_lambda.html#x"><span class="id" title="definition">x</span></a><a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">)</span></a> <a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">}&gt;</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="constructor">multi_step</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="lec_10_lambda.html#cbn_beta"><span class="id" title="constructor">cbn_beta</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab30"></a><h3 class="section">Example 2</h3>

</div>
<div class="code">
<span class="comment">(*<br/>
<br/>
&nbsp;&nbsp;&nbsp;((\x,&nbsp;\y,&nbsp;x)&nbsp;(\x,&nbsp;x))&nbsp;((\x,&nbsp;\y,&nbsp;x)&nbsp;(\x,&nbsp;x))&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--&gt;<br/>
&nbsp;&nbsp;&nbsp;((\y,&nbsp;(\x,&nbsp;x))&nbsp;((\x,&nbsp;\y,&nbsp;x)&nbsp;(\x,&nbsp;x))&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--&gt;<br/>
&nbsp;&nbsp;&nbsp;\x,&nbsp;x<br/>
<br/>
&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">Print</span> <a class="idref" href="lec_10_lambda.html#cbv_ex2"><span class="id" title="definition">cbv_ex2</span></a>.<br/>

<br/>
<span class="id" title="keyword">Example</span> <a id="cbn_ex2" class="idref" href="#cbn_ex2"><span class="id" title="definition">cbn_ex2</span></a>:<br/>
&nbsp;&nbsp;<a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">((</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">\</span></a><a class="idref" href="lec_10_lambda.html#x"><span class="id" title="definition">x</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">,</span></a> <a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">\</span></a><a class="idref" href="lec_10_lambda.html#y"><span class="id" title="definition">y</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">,</span></a> <a class="idref" href="lec_10_lambda.html#x"><span class="id" title="definition">x</span></a><a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">)</span></a> <a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">(</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">\</span></a><a class="idref" href="lec_10_lambda.html#x"><span class="id" title="definition">x</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">,</span></a> <a class="idref" href="lec_10_lambda.html#x"><span class="id" title="definition">x</span></a><a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">))</span></a> <a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">((</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">\</span></a><a class="idref" href="lec_10_lambda.html#x"><span class="id" title="definition">x</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">,</span></a> <a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">\</span></a><a class="idref" href="lec_10_lambda.html#y"><span class="id" title="definition">y</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">,</span></a> <a class="idref" href="lec_10_lambda.html#x"><span class="id" title="definition">x</span></a><a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">)</span></a> <a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">(</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">\</span></a><a class="idref" href="lec_10_lambda.html#x"><span class="id" title="definition">x</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">,</span></a> <a class="idref" href="lec_10_lambda.html#x"><span class="id" title="definition">x</span></a><a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">))</span></a> <a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="lec_10_lambda.html#527fbf4b411746b74140518b8f7c4c66"><span class="id" title="notation">---&gt;*</span></a> <a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">\</span></a><a class="idref" href="lec_10_lambda.html#x"><span class="id" title="definition">x</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">,</span></a> <a class="idref" href="lec_10_lambda.html#x"><span class="id" title="definition">x</span></a> <a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">}&gt;</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="constructor">multi_step</span>.<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="lec_10_lambda.html#cbn_app"><span class="id" title="constructor">cbn_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="lec_10_lambda.html#cbn_beta"><span class="id" title="constructor">cbn_beta</span></a>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="constructor">multi_step</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="lec_10_lambda.html#cbn_beta"><span class="id" title="constructor">cbn_beta</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="constructor">multi_refl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;}<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab31"></a><h3 class="section">Big-step semantics</h3>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Reserved Notation</span> &quot; t '===&gt;' v "<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 40, <span class="id" title="var">v</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 39).<br/>
<span class="id" title="keyword">Inductive</span> <a id="cbn_big_step" class="idref" href="#cbn_big_step"><span class="id" title="inductive">cbn_big_step</span></a> : <a class="idref" href="lec_10_lambda.html#tm"><span class="id" title="inductive">tm</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="lec_10_lambda.html#tm"><span class="id" title="inductive">tm</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
| <a id="cbn_refl'" class="idref" href="#cbn_refl'"><span class="id" title="constructor">cbn_refl'</span></a> : <span class="id" title="keyword">forall</span> <a id="v:58" class="idref" href="#v:58"><span class="id" title="binder">v</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="lec_10_lambda.html#value"><span class="id" title="inductive">value</span></a> <a class="idref" href="lec_10_lambda.html#v:58"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="lec_10_lambda.html#v:58"><span class="id" title="variable">v</span></a> <a class="idref" href="lec_10_lambda.html#28f43c6c1c00c11599fc86b7e27012f9"><span class="id" title="notation">===&gt;</span></a> <a class="idref" href="lec_10_lambda.html#v:58"><span class="id" title="variable">v</span></a><br/>
| <a id="cbn_beta'" class="idref" href="#cbn_beta'"><span class="id" title="constructor">cbn_beta'</span></a> : <span class="id" title="keyword">forall</span> <a id="x:59" class="idref" href="#x:59"><span class="id" title="binder">x</span></a> <a id="t:60" class="idref" href="#t:60"><span class="id" title="binder">t</span></a> <a id="t0:61" class="idref" href="#t0:61"><span class="id" title="binder">t0</span></a> <a id="t1:62" class="idref" href="#t1:62"><span class="id" title="binder">t1</span></a> <a id="v:63" class="idref" href="#v:63"><span class="id" title="binder">v</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="lec_10_lambda.html#t0:61"><span class="id" title="variable">t0</span></a> <a class="idref" href="lec_10_lambda.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">\</span></a><a class="idref" href="lec_10_lambda.html#x:59"><span class="id" title="variable">x</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">,</span></a> <a class="idref" href="lec_10_lambda.html#t:60"><span class="id" title="variable">t</span></a> <a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="lec_10_lambda.html#value"><span class="id" title="inductive">value</span></a> <a class="idref" href="lec_10_lambda.html#v:63"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="lec_10_lambda.html#5e4d39aa76d8f02b311e0818e59bd40a"><span class="id" title="notation">[</span></a><a class="idref" href="lec_10_lambda.html#x:59"><span class="id" title="variable">x</span></a> <a class="idref" href="lec_10_lambda.html#5e4d39aa76d8f02b311e0818e59bd40a"><span class="id" title="notation">:=</span></a> <a class="idref" href="lec_10_lambda.html#t1:62"><span class="id" title="variable">t1</span></a><a class="idref" href="lec_10_lambda.html#5e4d39aa76d8f02b311e0818e59bd40a"><span class="id" title="notation">]</span></a> <a class="idref" href="lec_10_lambda.html#t:60"><span class="id" title="variable">t</span></a> <a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="lec_10_lambda.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="lec_10_lambda.html#v:63"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="lec_10_lambda.html#t0:61"><span class="id" title="variable">t0</span></a> <a class="idref" href="lec_10_lambda.html#t1:62"><span class="id" title="variable">t1</span></a> <a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="lec_10_lambda.html#28f43c6c1c00c11599fc86b7e27012f9"><span class="id" title="notation">===&gt;</span></a> <a class="idref" href="lec_10_lambda.html#v:63"><span class="id" title="variable">v</span></a><br/>
<span class="id" title="keyword">where</span> <a id="28f43c6c1c00c11599fc86b7e27012f9" class="idref" href="#28f43c6c1c00c11599fc86b7e27012f9"><span class="id" title="notation">&quot;</span></a> t '===&gt;' v " := (<a class="idref" href="lec_10_lambda.html#cbn_big_step:57"><span class="id" title="inductive">cbn_big_step</span></a> <span class="id" title="var">t</span> <span class="id" title="var">v</span>).<br/>

<br/>
</div>

<div class="doc">
<ul class="doclist">
<li> Call-by-value and call-by-need do not give equivalent semantics.

</li>
<li> We'll be able to see this when we see how to code up non-terminating, i.e.,
     infinite reduction sequences with lambda calculus.

</li>
</ul>
 
<div class="paragraph"> </div>

<a id="lab32"></a><h2 class="section">Non-termination</h2>

<div class="paragraph"> </div>

<a id="lab33"></a><h3 class="section">Infinite loops?</h3>


<div class="paragraph"> </div>

<ul class="doclist">
<li> Can we write an infinite loop in Lambda calculus?

</li>
<li> If we could, then we basically have "shown" that Lambda calculus
    is Turing complete.

</li>
<li> Consider the following term.

</li>
</ul>
 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Example</span> <a id="Omega" class="idref" href="#Omega"><span class="id" title="definition">Omega</span></a> := <a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">(</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">\</span></a><a class="idref" href="lec_10_lambda.html#x"><span class="id" title="definition">x</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">,</span></a> <a class="idref" href="lec_10_lambda.html#x"><span class="id" title="definition">x</span></a> <a class="idref" href="lec_10_lambda.html#x"><span class="id" title="definition">x</span></a><a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">)</span></a> <a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">(</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">\</span></a><a class="idref" href="lec_10_lambda.html#x"><span class="id" title="definition">x</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">,</span></a> <a class="idref" href="lec_10_lambda.html#x"><span class="id" title="definition">x</span></a> <a class="idref" href="lec_10_lambda.html#x"><span class="id" title="definition">x</span></a><a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">)</span></a> <a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">}&gt;</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="cbv_Omega" class="idref" href="#cbv_Omega"><span class="id" title="lemma">cbv_Omega</span></a>:<br/>
&nbsp;&nbsp;<a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="lec_10_lambda.html#Omega"><span class="id" title="definition">Omega</span></a> <a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="lec_10_lambda.html#:::x_'--&gt;'_x"><span class="id" title="notation">--&gt;</span></a> <a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="lec_10_lambda.html#Omega"><span class="id" title="definition">Omega</span></a> <a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">}&gt;</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="lec_10_lambda.html#Omega"><span class="id" title="definition">Omega</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="lec_10_lambda.html#cbv_beta"><span class="id" title="constructor">cbv_beta</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="lec_10_lambda.html#v_abs"><span class="id" title="constructor">v_abs</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<ul class="doclist">
<li> We have shown that the term Omega reduces to itself under
    call-by-value semantics.

</li>
<li> Thus we have an infinite loop!

</li>
<li> So lambda calculus with call-by-value semantics is Turing complete.

</li>
</ul>
 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="cbn_Omega" class="idref" href="#cbn_Omega"><span class="id" title="lemma">cbn_Omega</span></a>:<br/>
&nbsp;&nbsp;<a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="lec_10_lambda.html#Omega"><span class="id" title="definition">Omega</span></a> <a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="lec_10_lambda.html#:::x_'---&gt;'_x"><span class="id" title="notation">---&gt;</span></a> <a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="lec_10_lambda.html#Omega"><span class="id" title="definition">Omega</span></a> <a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">}&gt;</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="lec_10_lambda.html#cbn_beta"><span class="id" title="constructor">cbn_beta</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<ul class="doclist">
<li> We have shown that the term Omega reduces to itself under call-by-name
    semantics.

</li>
<li> Thus we have an infinite loop under another semantics!

</li>
</ul>
 
<div class="paragraph"> </div>


<div class="paragraph"> </div>

<ul class="doclist">
<li> We might wonder when call-by-value and call-by-name differ.

</li>
<li> Consider the following example.

</li>
</ul>
 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Example</span> <a id="ex_cbv_Omega" class="idref" href="#ex_cbv_Omega"><span class="id" title="definition">ex_cbv_Omega</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">(</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">\</span></a><a class="idref" href="lec_10_lambda.html#x"><span class="id" title="definition">x</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">,</span></a> <a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">\</span></a><a class="idref" href="lec_10_lambda.html#y"><span class="id" title="definition">y</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">,</span></a> <a class="idref" href="lec_10_lambda.html#y"><span class="id" title="definition">y</span></a><a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">)</span></a> <a class="idref" href="lec_10_lambda.html#Omega"><span class="id" title="definition">Omega</span></a> <a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">}&gt;</span></a>.<br/>

<br/>
<span class="id" title="keyword">Example</span> <a id="cbv_Omega2" class="idref" href="#cbv_Omega2"><span class="id" title="definition">cbv_Omega2</span></a>:<br/>
&nbsp;&nbsp;<a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">(</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">\</span></a><a class="idref" href="lec_10_lambda.html#x"><span class="id" title="definition">x</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">,</span></a> <a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">\</span></a><a class="idref" href="lec_10_lambda.html#y"><span class="id" title="definition">y</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">,</span></a> <a class="idref" href="lec_10_lambda.html#y"><span class="id" title="definition">y</span></a><a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">)</span></a> <a class="idref" href="lec_10_lambda.html#Omega"><span class="id" title="definition">Omega</span></a> <a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="lec_10_lambda.html#:::x_'--&gt;'_x"><span class="id" title="notation">--&gt;</span></a> <a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">(</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">\</span></a><a class="idref" href="lec_10_lambda.html#x"><span class="id" title="definition">x</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">,</span></a> <a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">\</span></a><a class="idref" href="lec_10_lambda.html#y"><span class="id" title="definition">y</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">,</span></a> <a class="idref" href="lec_10_lambda.html#y"><span class="id" title="definition">y</span></a><a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">)</span></a> <a class="idref" href="lec_10_lambda.html#Omega"><span class="id" title="definition">Omega</span></a> <a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">}&gt;</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="lec_10_lambda.html#cbv_app2"><span class="id" title="constructor">cbv_app2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="lec_10_lambda.html#v_abs"><span class="id" title="constructor">v_abs</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="lec_10_lambda.html#cbv_Omega"><span class="id" title="lemma">cbv_Omega</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<ul class="doclist">
<li> Thus the term above reduces to itself.

</li>
<li> So we have another infinite loop.

</li>
<li> What about for call-by-name?

</li>
</ul>
 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Example</span> <a id="cbn_Omega2" class="idref" href="#cbn_Omega2"><span class="id" title="definition">cbn_Omega2</span></a>:<br/>
&nbsp;&nbsp;<a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">(</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">\</span></a><a class="idref" href="lec_10_lambda.html#x"><span class="id" title="definition">x</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">,</span></a> <a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">\</span></a><a class="idref" href="lec_10_lambda.html#y"><span class="id" title="definition">y</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">,</span></a> <a class="idref" href="lec_10_lambda.html#y"><span class="id" title="definition">y</span></a><a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">)</span></a> <a class="idref" href="lec_10_lambda.html#Omega"><span class="id" title="definition">Omega</span></a> <a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="lec_10_lambda.html#:::x_'---&gt;'_x"><span class="id" title="notation">---&gt;</span></a> <a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">(</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">\</span></a><a class="idref" href="lec_10_lambda.html#y"><span class="id" title="definition">y</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">,</span></a> <a class="idref" href="lec_10_lambda.html#y"><span class="id" title="definition">y</span></a><a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">)</span></a> <a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">}&gt;</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="lec_10_lambda.html#cbn_beta"><span class="id" title="constructor">cbn_beta</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<ul class="doclist">
<li> The call-by-name semantics terminates with an identity function.

</li>
<li> What a complicated way to write an identity function!

</li>
<li> In general, call-by-value and call-by-name will give different semantics.

</li>
<li> And cbn_Omega2 gives us one example.

</li>
</ul>
 
<div class="paragraph"> </div>

<a id="lab34"></a><h2 class="section">Lambda Calculus Encodings</h2>

<div class="paragraph"> </div>

<a id="lab35"></a><h3 class="section">Towards more realistic programs</h3>


<div class="paragraph"> </div>

<ul class="doclist">
<li> Perhaps surprisingly, lambda calculus is Turing complete.

</li>
<li> Even though it is Turing complete, it can be difficult to see how
     to write real programs in lambda calculus.

</li>
<li> We'll show how to encode familiar data such as booleans and natural
     numbers as lambda terms now.

</li>
</ul>
 
<div class="paragraph"> </div>

<a id="lab36"></a><h3 class="section">Booleans</h3>


<div class="paragraph"> </div>

<ul class="doclist">
<li> We'll model booleans as a two function argument.

</li>
<li> TRUE will return the first argument.

</li>
<li> FALSE will return the second argument.

</li>
</ul>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Example</span> <a id="TRUE" class="idref" href="#TRUE"><span class="id" title="definition">TRUE</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">\</span></a><a class="idref" href="lec_10_lambda.html#x"><span class="id" title="definition">x</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">,</span></a> <a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">\</span></a><a class="idref" href="lec_10_lambda.html#y"><span class="id" title="definition">y</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">,</span></a> <a class="idref" href="lec_10_lambda.html#x"><span class="id" title="definition">x</span></a> <a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">}&gt;</span></a>.<br/>

<br/>
<span class="id" title="keyword">Example</span> <a id="FALSE" class="idref" href="#FALSE"><span class="id" title="definition">FALSE</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">\</span></a><a class="idref" href="lec_10_lambda.html#x"><span class="id" title="definition">x</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">,</span></a> <a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">\</span></a><a class="idref" href="lec_10_lambda.html#y"><span class="id" title="definition">y</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">,</span></a> <a class="idref" href="lec_10_lambda.html#y"><span class="id" title="definition">y</span></a> <a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">}&gt;</span></a>.<br/>

<br/>
</div>

<div class="doc">
<ul class="doclist">
<li> Next we'll show how to define some logical operators.

</li>
</ul>
 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a id="b" class="idref" href="#b"><span class="id" title="definition">b</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a> := "b".<br/>
<span class="id" title="keyword">Definition</span> <a id="b1" class="idref" href="#b1"><span class="id" title="definition">b1</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a> := "b1".<br/>
<span class="id" title="keyword">Definition</span> <a id="b2" class="idref" href="#b2"><span class="id" title="definition">b2</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a> := "b2".<br/>

<br/>
</div>

<div class="doc">
<a id="lab37"></a><h3 class="section">NOT</h3>


<div class="paragraph"> </div>

<ul class="doclist">
<li> NOT should take a boolean and return a boolean

</li>
<li> So b is of type boolean, which means its a two argument function.

</li>
<li> If b is TRUE, it should return it's first argument. Hence we should
     pass in FALSE as the first argument.

</li>
<li> By symmetry, we should pass in TRUE as the second argument.

</li>
</ul>
 
</div>
<div class="code">
<span class="id" title="keyword">Example</span> <a id="NOT" class="idref" href="#NOT"><span class="id" title="definition">NOT</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">\</span></a><a class="idref" href="lec_10_lambda.html#b"><span class="id" title="definition">b</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">,</span></a> <a class="idref" href="lec_10_lambda.html#b"><span class="id" title="definition">b</span></a> <a class="idref" href="lec_10_lambda.html#FALSE"><span class="id" title="definition">FALSE</span></a> <a class="idref" href="lec_10_lambda.html#TRUE"><span class="id" title="definition">TRUE</span></a> <a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">}&gt;</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab38"></a><h3 class="section">AND</h3>


<div class="paragraph"> </div>

<ul class="doclist">
<li> AND should take two booleans and return a boolean.

</li>
<li> So b1 and b2 are booleans, which means they are both two argument function.

</li>
<li> If b1 is TRUE, we should just return the second boolean b2.

</li>
<li> If b1 is FALSE, then it is for sure FALSE.

</li>
</ul>
 
</div>
<div class="code">
<span class="id" title="keyword">Example</span> <a id="AND" class="idref" href="#AND"><span class="id" title="definition">AND</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">\</span></a><a class="idref" href="lec_10_lambda.html#b1"><span class="id" title="definition">b1</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">,</span></a> <a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">\</span></a><a class="idref" href="lec_10_lambda.html#b2"><span class="id" title="definition">b2</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">,</span></a> <a class="idref" href="lec_10_lambda.html#b1"><span class="id" title="definition">b1</span></a> <a class="idref" href="lec_10_lambda.html#b2"><span class="id" title="definition">b2</span></a> <a class="idref" href="lec_10_lambda.html#FALSE"><span class="id" title="definition">FALSE</span></a> <a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">}&gt;</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab39"></a><h3 class="section">OR</h3>


<div class="paragraph"> </div>

<ul class="doclist">
<li> Similar reasoning to AND.

</li>
</ul>
 
</div>
<div class="code">
<span class="id" title="keyword">Example</span> <a id="OR" class="idref" href="#OR"><span class="id" title="definition">OR</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">\</span></a><a class="idref" href="lec_10_lambda.html#b1"><span class="id" title="definition">b1</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">,</span></a> <a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">\</span></a><a class="idref" href="lec_10_lambda.html#b2"><span class="id" title="definition">b2</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">,</span></a> <a class="idref" href="lec_10_lambda.html#b1"><span class="id" title="definition">b1</span></a> <a class="idref" href="lec_10_lambda.html#TRUE"><span class="id" title="definition">TRUE</span></a> <a class="idref" href="lec_10_lambda.html#b2"><span class="id" title="definition">b2</span></a><a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">}&gt;</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab40"></a><h3 class="section">IF</h3>


<div class="paragraph"> </div>

<ul class="doclist">
<li> b is a boolean, which means its a two-argument function.

</li>
<li> f and g are arbitrary functions containing the TRUE and FALSE branches.

</li>
<li> Thus if b is TRUE, we should execute f.

</li>
<li> And if b is FALSE, we should execute g.

</li>
</ul>
 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Example</span> <a id="IF'" class="idref" href="#IF'"><span class="id" title="definition">IF'</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">\</span></a><a class="idref" href="lec_10_lambda.html#b"><span class="id" title="definition">b</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">,</span></a> <a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">\</span></a><a class="idref" href="lec_10_lambda.html#f"><span class="id" title="definition">f</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">,</span></a> <a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">\</span></a><a class="idref" href="lec_10_lambda.html#g"><span class="id" title="definition">g</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">,</span></a> <a class="idref" href="lec_10_lambda.html#b"><span class="id" title="definition">b</span></a> <a class="idref" href="lec_10_lambda.html#f"><span class="id" title="definition">f</span></a> <a class="idref" href="lec_10_lambda.html#g"><span class="id" title="definition">g</span></a> <a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">}&gt;</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab41"></a><h3 class="section">Church Numerals</h3>


<div class="paragraph"> </div>

<ul class="doclist">
<li> We have already worked with Church numerals as a shallow embedding.

</li>
<li> We'll now see the deep embedding version of Church numerals.

</li>
<li> The idea is that we will represent the number n as f applied to x n times.

</li>
</ul>

<div class="paragraph"> </div>

 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Example</span> <a id="ZERO" class="idref" href="#ZERO"><span class="id" title="definition">ZERO</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">\</span></a><a class="idref" href="lec_10_lambda.html#f"><span class="id" title="definition">f</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">,</span></a> <a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">\</span></a><a class="idref" href="lec_10_lambda.html#x"><span class="id" title="definition">x</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">,</span></a> <a class="idref" href="lec_10_lambda.html#x"><span class="id" title="definition">x</span></a> <a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">}&gt;</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="n" class="idref" href="#n"><span class="id" title="definition">n</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a> := "n".<br/>

<br/>
<span class="id" title="keyword">Example</span> <a id="SUCC" class="idref" href="#SUCC"><span class="id" title="definition">SUCC</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">\</span></a><a class="idref" href="lec_10_lambda.html#n"><span class="id" title="definition">n</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">,</span></a> <a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">\</span></a><a class="idref" href="lec_10_lambda.html#f"><span class="id" title="definition">f</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">,</span></a> <a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">\</span></a><a class="idref" href="lec_10_lambda.html#x"><span class="id" title="definition">x</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">,</span></a> <a class="idref" href="lec_10_lambda.html#f"><span class="id" title="definition">f</span></a> <a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">(</span></a><a class="idref" href="lec_10_lambda.html#n"><span class="id" title="definition">n</span></a> <a class="idref" href="lec_10_lambda.html#f"><span class="id" title="definition">f</span></a> <a class="idref" href="lec_10_lambda.html#x"><span class="id" title="definition">x</span></a><a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">)</span></a> <a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">}&gt;</span></a>.<br/>

<br/>
<span class="id" title="keyword">Example</span> <a id="_1" class="idref" href="#_1"><span class="id" title="definition">_1</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="lec_10_lambda.html#SUCC"><span class="id" title="definition">SUCC</span></a> <a class="idref" href="lec_10_lambda.html#ZERO"><span class="id" title="definition">ZERO</span></a> <a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">}&gt;</span></a>.<br/>

<br/>
<span class="id" title="keyword">Example</span> <a id="_2" class="idref" href="#_2"><span class="id" title="definition">_2</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="lec_10_lambda.html#SUCC"><span class="id" title="definition">SUCC</span></a> <a class="idref" href="lec_10_lambda.html#_1"><span class="id" title="definition">_1</span></a> <a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">}&gt;</span></a>.<br/>

<br/>
<span class="id" title="keyword">Example</span> <a id="_3" class="idref" href="#_3"><span class="id" title="definition">_3</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="lec_10_lambda.html#SUCC"><span class="id" title="definition">SUCC</span></a> <a class="idref" href="lec_10_lambda.html#_2"><span class="id" title="definition">_2</span></a> <a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">}&gt;</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab42"></a><h3 class="section">Addition</h3>


<div class="paragraph"> </div>

<ul class="doclist">
<li> PLUS should take two numbers, which are two argument functions.

</li>
<li> The first argument is a function to apply and the second argument is the
     value to apply it to.

</li>
</ul>
 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a id="n1" class="idref" href="#n1"><span class="id" title="definition">n1</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a> := "n1".<br/>
<span class="id" title="keyword">Definition</span> <a id="n2" class="idref" href="#n2"><span class="id" title="definition">n2</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a> := "n2".<br/>

<br/>
<span class="id" title="keyword">Example</span> <a id="PLUS" class="idref" href="#PLUS"><span class="id" title="definition">PLUS</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">\</span></a><a class="idref" href="lec_10_lambda.html#n1"><span class="id" title="definition">n1</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">,</span></a> <a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">\</span></a><a class="idref" href="lec_10_lambda.html#n2"><span class="id" title="definition">n2</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">,</span></a> <a class="idref" href="lec_10_lambda.html#n1"><span class="id" title="definition">n1</span></a> <a class="idref" href="lec_10_lambda.html#SUCC"><span class="id" title="definition">SUCC</span></a> <a class="idref" href="lec_10_lambda.html#n2"><span class="id" title="definition">n2</span></a> <a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">}&gt;</span></a>.<br/>

<br/>
</div>

<div class="doc">
<ul class="doclist">
<li> The infamous? predecessor function.

</li>
<li> Don't ask me how it works.

</li>
</ul>
 
</div>
<div class="code">
<span class="id" title="keyword">Example</span> <a id="PRED" class="idref" href="#PRED"><span class="id" title="definition">PRED</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">\</span></a><a class="idref" href="lec_10_lambda.html#n"><span class="id" title="definition">n</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">,</span></a> <a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">\</span></a><a class="idref" href="lec_10_lambda.html#f"><span class="id" title="definition">f</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">,</span></a> <a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">\</span></a><a class="idref" href="lec_10_lambda.html#x"><span class="id" title="definition">x</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">,</span></a> <a class="idref" href="lec_10_lambda.html#n"><span class="id" title="definition">n</span></a> <a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">(</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">\</span></a><a class="idref" href="lec_10_lambda.html#g"><span class="id" title="definition">g</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">,</span></a> <a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">\</span></a><a class="idref" href="lec_10_lambda.html#h"><span class="id" title="definition">h</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">,</span></a> <a class="idref" href="lec_10_lambda.html#h"><span class="id" title="definition">h</span></a> <a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">(</span></a><a class="idref" href="lec_10_lambda.html#g"><span class="id" title="definition">g</span></a> <a class="idref" href="lec_10_lambda.html#f"><span class="id" title="definition">f</span></a><a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">))</span></a> <a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">(</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">\</span></a><a class="idref" href="lec_10_lambda.html#b"><span class="id" title="definition">b</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">,</span></a> <a class="idref" href="lec_10_lambda.html#x"><span class="id" title="definition">x</span></a><a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">)</span></a> <a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">(</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">\</span></a><a class="idref" href="lec_10_lambda.html#b"><span class="id" title="definition">b</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">,</span></a> <a class="idref" href="lec_10_lambda.html#b"><span class="id" title="definition">b</span></a><a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">)</span></a> <a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">}&gt;</span></a>.<br/>

<br/>
<span class="id" title="keyword">Example</span> <a id="ISZERO" class="idref" href="#ISZERO"><span class="id" title="definition">ISZERO</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">\</span></a> <a class="idref" href="lec_10_lambda.html#n"><span class="id" title="definition">n</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">,</span></a> <a class="idref" href="lec_10_lambda.html#n"><span class="id" title="definition">n</span></a> <a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">(</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">\</span></a> <a class="idref" href="lec_10_lambda.html#x"><span class="id" title="definition">x</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">,</span></a> <a class="idref" href="lec_10_lambda.html#FALSE"><span class="id" title="definition">FALSE</span></a><a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">)</span></a> <a class="idref" href="lec_10_lambda.html#TRUE"><span class="id" title="definition">TRUE</span></a> <a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">}&gt;</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab43"></a><h2 class="section">Recursion and the Y-Combinator</h2>

<div class="paragraph"> </div>


<div class="paragraph"> </div>

<ul class="doclist">
<li> Suppose we wanted to write multiplication as an ordinary fix-point.

</li>
<li> Can we come up with an encoding for defining a fix-point with lambda calclus?

</li>
</ul>
 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="my_times" class="idref" href="#my_times"><span class="id" title="definition">my_times</span></a> (<a id="n:64" class="idref" href="#n:64"><span class="id" title="binder">n</span></a> <a id="m:65" class="idref" href="#m:65"><span class="id" title="binder">m</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="lec_10_lambda.html#n:64"><span class="id" title="variable">n</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#O"><span class="id" title="constructor">O</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#O"><span class="id" title="constructor">O</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n'</span> =&gt; <a class="idref" href="lec_10_lambda.html#m:65"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="lec_10_lambda.html#my_times:66"><span class="id" title="definition">my_times</span></a> <span class="id" title="var">n'</span> <a class="idref" href="lec_10_lambda.html#m:65"><span class="id" title="variable">m</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab44"></a><h3 class="section">Goal</h3>

</div>
<div class="code">
<span class="comment">(*<br/>
<br/>
&nbsp;&nbsp;&nbsp;TIMES&nbsp;=&nbsp;\n,&nbsp;\m,&nbsp;IF&nbsp;(ISZERO&nbsp;n)&nbsp;ZERO&nbsp;(PLUS&nbsp;m&nbsp;(TIMES&nbsp;(PRED&nbsp;n)&nbsp;m))<br/>
&nbsp;*)</span><br/>
</div>

<div class="doc">
<ul class="doclist">
<li> The issue is that we don't have a way to directly define recursive functions!

</li>
<li> In other words, what we have is an equation to solve and not a definition.

</li>
</ul>
 
<div class="paragraph"> </div>

<a id="lab45"></a><h3 class="section">Wishful thinking</h3>


<div class="paragraph"> </div>

<ul class="doclist">
<li> Pass in an extra argument f.

</li>
<li> f should have the same type of TIMES'

</li>
</ul>
 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Example</span> <a id="TIMES'" class="idref" href="#TIMES'"><span class="id" title="definition">TIMES'</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">\</span></a><a class="idref" href="lec_10_lambda.html#f"><span class="id" title="definition">f</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">,</span></a> <a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">\</span></a><a class="idref" href="lec_10_lambda.html#n"><span class="id" title="definition">n</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">,</span></a> <a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">\</span></a><a class="idref" href="lec_10_lambda.html#x"><span class="id" title="definition">x</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">,</span></a> <a class="idref" href="lec_10_lambda.html#IF'"><span class="id" title="definition">IF'</span></a> <a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">(</span></a><a class="idref" href="lec_10_lambda.html#ISZERO"><span class="id" title="definition">ISZERO</span></a> <a class="idref" href="lec_10_lambda.html#n"><span class="id" title="definition">n</span></a><a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">)</span></a> <a class="idref" href="lec_10_lambda.html#ZERO"><span class="id" title="definition">ZERO</span></a> <a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">(</span></a><a class="idref" href="lec_10_lambda.html#PLUS"><span class="id" title="definition">PLUS</span></a> <a class="idref" href="lec_10_lambda.html#x"><span class="id" title="definition">x</span></a> <a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">(</span></a><a class="idref" href="lec_10_lambda.html#f"><span class="id" title="definition">f</span></a> <a class="idref" href="lec_10_lambda.html#f"><span class="id" title="definition">f</span></a> <a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">(</span></a><a class="idref" href="lec_10_lambda.html#PRED"><span class="id" title="definition">PRED</span></a> <a class="idref" href="lec_10_lambda.html#n"><span class="id" title="definition">n</span></a><a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">)</span></a> <a class="idref" href="lec_10_lambda.html#x"><span class="id" title="definition">x</span></a><a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">))</span></a> <a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">}&gt;</span></a>.<br/>

<br/>
<span class="id" title="keyword">Example</span> <a id="TIMES" class="idref" href="#TIMES"><span class="id" title="definition">TIMES</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="lec_10_lambda.html#TIMES'"><span class="id" title="definition">TIMES'</span></a> <a class="idref" href="lec_10_lambda.html#TIMES'"><span class="id" title="definition">TIMES'</span></a> <a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">}&gt;</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab46"></a><h3 class="section">Recursion encoded!</h3>

</div>
<div class="code">
<span class="comment">(*<br/>
<br/>
&nbsp;&nbsp;&nbsp;TIMES'&nbsp;TIMES'<br/>
&nbsp;&nbsp;&nbsp;=&nbsp;(\f,&nbsp;\n,&nbsp;\x,&nbsp;IF'&nbsp;(ISZERO&nbsp;n)&nbsp;ZERO&nbsp;(PLUS&nbsp;x&nbsp;(f&nbsp;f&nbsp;(PRED&nbsp;n)&nbsp;x)))&nbsp;TIMES'<br/>
&nbsp;&nbsp;&nbsp;=&nbsp;\n,&nbsp;\x,&nbsp;IF'&nbsp;(ISZERO&nbsp;n)&nbsp;ZERO&nbsp;(PLUS&nbsp;x&nbsp;(TIMES'&nbsp;TIMES'&nbsp;(PRED&nbsp;n)&nbsp;x))<br/>
&nbsp;&nbsp;&nbsp;=&nbsp;\n,&nbsp;\x,&nbsp;IF'&nbsp;(ISZERO&nbsp;n)&nbsp;ZERO&nbsp;(PLUS&nbsp;x&nbsp;(TIMES&nbsp;(PRED&nbsp;n)&nbsp;x))<br/>
&nbsp;*)</span><br/>

<br/>
</div>

<div class="doc">
<a id="lab47"></a><h3 class="section">Y Combinator</h3>


<div class="paragraph"> </div>

<ul class="doclist">
<li> We can also define a lambda term that finds the fix-point for us directly.

</li>
<li> Here is the Y-combinator.

</li>
</ul>
 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Example</span> <a id="cbn_Y" class="idref" href="#cbn_Y"><span class="id" title="definition">cbn_Y</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">\</span></a><a class="idref" href="lec_10_lambda.html#f"><span class="id" title="definition">f</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">,</span></a> <a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">(</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">\</span></a><a class="idref" href="lec_10_lambda.html#x"><span class="id" title="definition">x</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">,</span></a> <a class="idref" href="lec_10_lambda.html#f"><span class="id" title="definition">f</span></a> <a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">(</span></a><a class="idref" href="lec_10_lambda.html#x"><span class="id" title="definition">x</span></a> <a class="idref" href="lec_10_lambda.html#x"><span class="id" title="definition">x</span></a><a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">))</span></a> <a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">(</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">\</span></a><a class="idref" href="lec_10_lambda.html#x"><span class="id" title="definition">x</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">,</span></a> <a class="idref" href="lec_10_lambda.html#f"><span class="id" title="definition">f</span></a> <a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">(</span></a><a class="idref" href="lec_10_lambda.html#x"><span class="id" title="definition">x</span></a> <a class="idref" href="lec_10_lambda.html#x"><span class="id" title="definition">x</span></a><a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">))</span></a> <a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">}&gt;</span></a>.<br/>

<br/>
<span class="comment">(*<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cbn_Y&nbsp;TIMES'&nbsp;<br/>
&nbsp;&nbsp;&nbsp;=&nbsp;(\f,&nbsp;(\x,&nbsp;f&nbsp;(x&nbsp;x))&nbsp;(\x,&nbsp;f&nbsp;(x&nbsp;x)))&nbsp;TIMES'<br/>
&nbsp;&nbsp;&nbsp;=&nbsp;(\x,&nbsp;TIMES'&nbsp;(x&nbsp;x))&nbsp;(\x,&nbsp;TIMES'&nbsp;(x&nbsp;x))<br/>
&nbsp;&nbsp;&nbsp;=&nbsp;TIMES'&nbsp;((\x,&nbsp;TIMES'&nbsp;(x&nbsp;x))&nbsp;(\x,&nbsp;TIMES'&nbsp;(x&nbsp;x)))<br/>
&nbsp;&nbsp;&nbsp;=&nbsp;TIMES'&nbsp;(TIMES'&nbsp;((\x,&nbsp;TIMES'&nbsp;(x&nbsp;x))&nbsp;(\x,&nbsp;TIMES'&nbsp;(x&nbsp;x))))<br/>
&nbsp;&nbsp;&nbsp;=&nbsp;...<br/>
&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">Example</span> <a id="cbv_Y" class="idref" href="#cbv_Y"><span class="id" title="definition">cbv_Y</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">(</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">\</span></a><a class="idref" href="lec_10_lambda.html#f"><span class="id" title="definition">f</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">,</span></a> <a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">(</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">\</span></a><a class="idref" href="lec_10_lambda.html#x"><span class="id" title="definition">x</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">,</span></a> <a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">\</span></a><a class="idref" href="lec_10_lambda.html#y"><span class="id" title="definition">y</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">,</span></a> <a class="idref" href="lec_10_lambda.html#f"><span class="id" title="definition">f</span></a> <a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">(</span></a><a class="idref" href="lec_10_lambda.html#x"><span class="id" title="definition">x</span></a> <a class="idref" href="lec_10_lambda.html#x"><span class="id" title="definition">x</span></a><a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">)</span></a> <a class="idref" href="lec_10_lambda.html#y"><span class="id" title="definition">y</span></a><a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">)</span></a> <a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">(</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">\</span></a><a class="idref" href="lec_10_lambda.html#x"><span class="id" title="definition">x</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">,</span></a> <a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">\</span></a><a class="idref" href="lec_10_lambda.html#y"><span class="id" title="definition">y</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">,</span></a> <a class="idref" href="lec_10_lambda.html#f"><span class="id" title="definition">f</span></a> <a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">(</span></a><a class="idref" href="lec_10_lambda.html#x"><span class="id" title="definition">x</span></a> <a class="idref" href="lec_10_lambda.html#x"><span class="id" title="definition">x</span></a><a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">)</span></a> <a class="idref" href="lec_10_lambda.html#y"><span class="id" title="definition">y</span></a><a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">))</span></a> <a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">}&gt;</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab48"></a><h2 class="section">Translation</h2>

<div class="paragraph"> </div>


<div class="paragraph"> </div>

<ul class="doclist">
<li> At this point, we have seen two orders of evaluation: call-by-value and
     call-by-need.

</li>
<li> We might want to translate terms under one semantics into terms in another
     another.

</li>
<li> This is called *translation*.

</li>
<li> You may have heard of the terms *transpiling* or even *compiling*

</li>
</ul>

<div class="paragraph"> </div>

 
<div class="paragraph"> </div>

<a id="lab49"></a><h3 class="section">Call-by-name to Call-by-value</h3>


<div class="paragraph"> </div>

<ul class="doclist">
<li> The translation is given below and does something called *thunking*.

</li>
<li> Thunking delays evaluation by wrapping arguments to functions with
     a lambda. We then have to call variables with a throw-away argument
     to force evaluation when it is used.

</li>
</ul>
 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a id="fresh_var" class="idref" href="#fresh_var"><span class="id" title="definition">fresh_var</span></a> (<a id="vars:68" class="idref" href="#vars:68"><span class="id" title="binder">vars</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.ListSet.html#set"><span class="id" title="definition">set</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a>): <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.ListSet.html#set_fold_left"><span class="id" title="definition">set_fold_left</span></a> (<span class="id" title="keyword">fun</span> <a id="b:69" class="idref" href="#b:69"><span class="id" title="binder">b</span></a> <a id="a:70" class="idref" href="#a:70"><span class="id" title="binder">a</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Strings.String.html#append"><span class="id" title="definition">append</span></a> <a class="idref" href="lec_10_lambda.html#b:69"><span class="id" title="variable">b</span></a> <a class="idref" href="lec_10_lambda.html#a:70"><span class="id" title="variable">a</span></a>) <a class="idref" href="lec_10_lambda.html#vars:68"><span class="id" title="variable">vars</span></a> <a class="idref" href="lec_10_lambda.html#z"><span class="id" title="definition">z</span></a>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="cbn_to_cbv" class="idref" href="#cbn_to_cbv"><span class="id" title="definition">cbn_to_cbv</span></a> (<a id="t:71" class="idref" href="#t:71"><span class="id" title="binder">t</span></a>: <a class="idref" href="lec_10_lambda.html#tm"><span class="id" title="inductive">tm</span></a>): <a class="idref" href="lec_10_lambda.html#tm"><span class="id" title="inductive">tm</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="lec_10_lambda.html#t:71"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="lec_10_lambda.html#tm_var"><span class="id" title="constructor">tm_var</span></a> <span class="id" title="var">y</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">&lt;{</span></a> <span class="id" title="var">y</span> <a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">(</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">\</span></a><a class="idref" href="lec_10_lambda.html#x"><span class="id" title="definition">x</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">,</span></a> <a class="idref" href="lec_10_lambda.html#x"><span class="id" title="definition">x</span></a><a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">)</span></a> <a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">}&gt;</span></a>                  <br/>
&nbsp;&nbsp;| <a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">&lt;{</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">\</span></a><span class="id" title="var">y</span><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">,</span></a> <span class="id" title="var">t1</span><a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">}&gt;</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="t1':74" class="idref" href="#t1':74"><span class="id" title="binder">t1'</span></a> := <a class="idref" href="lec_10_lambda.html#cbn_to_cbv:72"><span class="id" title="definition">cbn_to_cbv</span></a> <span class="id" title="var">t1</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">\</span></a><span class="id" title="var">y</span><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">,</span></a> <a class="idref" href="lec_10_lambda.html#t1':74"><span class="id" title="variable">t1'</span></a> <a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">}&gt;</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">&lt;{</span></a><span class="id" title="var">t1</span> <span class="id" title="var">t2</span><a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">}&gt;</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="t1':75" class="idref" href="#t1':75"><span class="id" title="binder">t1'</span></a> := <a class="idref" href="lec_10_lambda.html#cbn_to_cbv:72"><span class="id" title="definition">cbn_to_cbv</span></a> <span class="id" title="var">t1</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="t2':76" class="idref" href="#t2':76"><span class="id" title="binder">t2'</span></a> := <a class="idref" href="lec_10_lambda.html#cbn_to_cbv:72"><span class="id" title="definition">cbn_to_cbv</span></a> <span class="id" title="var">t2</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="fv:77" class="idref" href="#fv:77"><span class="id" title="binder">fv</span></a> := <a class="idref" href="lec_10_lambda.html#free_var"><span class="id" title="definition">free_var</span></a> <span class="id" title="var">t2</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.ListSet.html#set_mem"><span class="id" title="definition">set_mem</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Strings.String.html#string_dec"><span class="id" title="definition">string_dec</span></a> <a class="idref" href="lec_10_lambda.html#z"><span class="id" title="definition">z</span></a> <a class="idref" href="lec_10_lambda.html#fv:77"><span class="id" title="variable">fv</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="z':78" class="idref" href="#z':78"><span class="id" title="binder">z'</span></a> := <a class="idref" href="lec_10_lambda.html#fresh_var"><span class="id" title="definition">fresh_var</span></a> (<a class="idref" href="lec_10_lambda.html#free_var"><span class="id" title="definition">free_var</span></a> <span class="id" title="var">t2</span>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="lec_10_lambda.html#t1':75"><span class="id" title="variable">t1'</span></a> <a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">(</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">\</span></a><a class="idref" href="lec_10_lambda.html#z':78"><span class="id" title="variable">z'</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">,</span></a> <a class="idref" href="lec_10_lambda.html#t2':76"><span class="id" title="variable">t2'</span></a><a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">)</span></a> <a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">}&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="lec_10_lambda.html#t1':75"><span class="id" title="variable">t1'</span></a> <a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">(</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">\</span></a><a class="idref" href="lec_10_lambda.html#z"><span class="id" title="definition">z</span></a><a class="idref" href="lec_10_lambda.html#d3851ec98b076e0d39924546fcccddfe"><span class="id" title="notation">,</span></a> <a class="idref" href="lec_10_lambda.html#t2':76"><span class="id" title="variable">t2'</span></a><a class="idref" href="lec_10_lambda.html#3ff62a5ccf9cf53d5aae3523f185e45b"><span class="id" title="notation">)</span></a> <a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">}&gt;</span></a>  <span class="comment">(*&nbsp;thunking&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Print</span> <a class="idref" href="lec_10_lambda.html#ex1"><span class="id" title="definition">ex1</span></a>.<br/>
<span class="id" title="keyword">Eval</span> <span class="id" title="tactic">compute</span> <span class="id" title="tactic">in</span> <a class="idref" href="lec_10_lambda.html#cbn_to_cbv"><span class="id" title="definition">cbn_to_cbv</span></a> <a class="idref" href="lec_10_lambda.html#ex1"><span class="id" title="definition">ex1</span></a>.<br/>

<br/>
<span class="id" title="keyword">Print</span> <a class="idref" href="lec_10_lambda.html#ex2"><span class="id" title="definition">ex2</span></a>.<br/>
<span class="id" title="keyword">Eval</span> <span class="id" title="tactic">compute</span> <span class="id" title="tactic">in</span> <a class="idref" href="lec_10_lambda.html#cbn_to_cbv"><span class="id" title="definition">cbn_to_cbv</span></a> <a class="idref" href="lec_10_lambda.html#ex2"><span class="id" title="definition">ex2</span></a>.<br/>

<br/>
<span class="id" title="keyword">Print</span> <a class="idref" href="lec_10_lambda.html#ex3"><span class="id" title="definition">ex3</span></a>.<br/>
<span class="id" title="keyword">Eval</span> <span class="id" title="tactic">compute</span> <span class="id" title="tactic">in</span> <a class="idref" href="lec_10_lambda.html#cbn_to_cbv"><span class="id" title="definition">cbn_to_cbv</span></a> <a class="idref" href="lec_10_lambda.html#ex3"><span class="id" title="definition">ex3</span></a>.<br/>

<br/>
<span class="id" title="keyword">Print</span> <a class="idref" href="lec_10_lambda.html#ex4"><span class="id" title="definition">ex4</span></a>.<br/>
<span class="id" title="keyword">Eval</span> <span class="id" title="tactic">compute</span> <span class="id" title="tactic">in</span> <a class="idref" href="lec_10_lambda.html#cbn_to_cbv"><span class="id" title="definition">cbn_to_cbv</span></a> <a class="idref" href="lec_10_lambda.html#ex4"><span class="id" title="definition">ex4</span></a>.<br/>

<br/>
<span class="id" title="keyword">Print</span> <a class="idref" href="lec_10_lambda.html#Omega"><span class="id" title="definition">Omega</span></a>.<br/>
<span class="id" title="keyword">Eval</span> <span class="id" title="tactic">compute</span> <span class="id" title="tactic">in</span> <a class="idref" href="lec_10_lambda.html#cbn_to_cbv"><span class="id" title="definition">cbn_to_cbv</span></a> <a class="idref" href="lec_10_lambda.html#Omega"><span class="id" title="definition">Omega</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab50"></a><h3 class="section">Adequacy of translation</h3>


<div class="paragraph"> </div>

<ul class="doclist">
<li> Soundness: 
     <span class="inlinecode"><span class="id" title="keyword">forall</span></span> <span class="inlinecode"><span class="id" title="var">t</span></span> <span class="inlinecode">\<span class="id" title="tactic">in</span></span> <span class="inlinecode"><span class="id" title="var">tm</span>,</span> <span class="inlinecode"><span class="id" title="keyword">if</span></span> <span class="inlinecode"><span class="id" title="var">translate</span>[<span class="id" title="var">e</span>]</span> <span class="inlinecode">==&gt;</span> <span class="inlinecode"><span class="id" title="var">v'</span></span> <span class="inlinecode"><span class="id" title="keyword">then</span></span> <span class="inlinecode">\<span class="id" title="tactic">exists</span></span> <span class="inlinecode"><span class="id" title="var">v</span>.</span> <span class="inlinecode"><span class="id" title="var">e</span></span> <span class="inlinecode">===&gt;</span> <span class="inlinecode"><span class="id" title="var">v</span></span>
     and <span class="inlinecode"><span class="id" title="var">v'</span></span> equivalent to <span class="inlinecode"><span class="id" title="var">v</span></span>.

<div class="paragraph"> </div>


</li>
<li> Completeness:
     <span class="inlinecode"><span class="id" title="keyword">forall</span></span> <span class="inlinecode"><span class="id" title="var">t</span></span> <span class="inlinecode">\<span class="id" title="tactic">in</span></span> <span class="inlinecode"><span class="id" title="var">tm</span>,</span> <span class="inlinecode"><span class="id" title="keyword">if</span></span> <span class="inlinecode"><span class="id" title="var">e</span></span> <span class="inlinecode">===&gt;</span> <span class="inlinecode"><span class="id" title="var">v</span></span> <span class="inlinecode"><span class="id" title="keyword">then</span></span> <span class="inlinecode">\<span class="id" title="tactic">exists</span></span> <span class="inlinecode"><span class="id" title="var">v'</span>,</span> <span class="inlinecode"><span class="id" title="var">translate</span>[<span class="id" title="var">e</span>]</span> <span class="inlinecode">==&gt;</span> <span class="inlinecode"><span class="id" title="var">v'</span></span>
     and <span class="inlinecode"><span class="id" title="var">v'</span></span> equivalent to <span class="inlinecode"><span class="id" title="var">v</span></span>.

<div class="paragraph"> </div>


</li>
<li> Equivalence is a notion that you will have to define. We will look at
     *contextual equivalence* later which is a powerful and general method for
     defining equivalence.

</li>
</ul>
 
<div class="paragraph"> </div>

<a id="lab51"></a><h2 class="section">Extending Lambda Calculi</h2>

<div class="paragraph"> </div>


<div class="paragraph"> </div>

<ul class="doclist">
<li> Now that we have a notion of translation, we can extend Lambda
     Calculus with more terms.

</li>
<li> This won't increase the computational power of Lambda Calculus---it
     is already Turing complete.

</li>
<li> However, it will allow us to reason about programs at a higher-level
     of abstraction.

</li>
<li> For example, we might not want to reason about Church encodings all
     the time.

</li>
</ul>
 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Inductive</span> <a id="tm'" class="idref" href="#tm'"><span class="id" title="inductive">tm'</span></a> : <span class="id" title="keyword">Type</span> :=<br/>
| <a id="tm_var'" class="idref" href="#tm_var'"><span class="id" title="constructor">tm_var'</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="lec_10_lambda.html#tm':79"><span class="id" title="inductive">tm'</span></a>             <span class="comment">(*&nbsp;variable&nbsp;*)</span><br/>
| <a id="tm_app'" class="idref" href="#tm_app'"><span class="id" title="constructor">tm_app'</span></a> : <a class="idref" href="lec_10_lambda.html#tm':79"><span class="id" title="inductive">tm'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="lec_10_lambda.html#tm':79"><span class="id" title="inductive">tm'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="lec_10_lambda.html#tm':79"><span class="id" title="inductive">tm'</span></a>         <span class="comment">(*&nbsp;application&nbsp;*)</span><br/>
| <a id="tm_abs'" class="idref" href="#tm_abs'"><span class="id" title="constructor">tm_abs'</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="lec_10_lambda.html#tm':79"><span class="id" title="inductive">tm'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="lec_10_lambda.html#tm':79"><span class="id" title="inductive">tm'</span></a>      <span class="comment">(*&nbsp;abstraction&nbsp;*)</span><br/>
| <a id="tm_true'" class="idref" href="#tm_true'"><span class="id" title="constructor">tm_true'</span></a> : <a class="idref" href="lec_10_lambda.html#tm':79"><span class="id" title="inductive">tm'</span></a>                      <span class="comment">(*&nbsp;true&nbsp;*)</span><br/>
| <a id="tm_false'" class="idref" href="#tm_false'"><span class="id" title="constructor">tm_false'</span></a> : <a class="idref" href="lec_10_lambda.html#tm':79"><span class="id" title="inductive">tm'</span></a>                     <span class="comment">(*&nbsp;false&nbsp;*)</span><br/>
| <a id="tm_if'" class="idref" href="#tm_if'"><span class="id" title="constructor">tm_if'</span></a> : <a class="idref" href="lec_10_lambda.html#tm':79"><span class="id" title="inductive">tm'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="lec_10_lambda.html#tm':79"><span class="id" title="inductive">tm'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="lec_10_lambda.html#tm':79"><span class="id" title="inductive">tm'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="lec_10_lambda.html#tm':79"><span class="id" title="inductive">tm'</span></a>   <span class="comment">(*&nbsp;if&nbsp;*)</span><br/>
.<br/>

<br/>
</div>

<div class="doc">
<ul class="doclist">
<li> However, the downside is that our language is now larger.

</li>
<li> And we will need to define new functions / semantics.

</li>
<li> We've updated substitution to work with the larger language.

</li>
</ul>
 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="subst'" class="idref" href="#subst'"><span class="id" title="definition">subst'</span></a> (<a id="x:81" class="idref" href="#x:81"><span class="id" title="binder">x</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a>) (<a id="s:82" class="idref" href="#s:82"><span class="id" title="binder">s</span></a>: <a class="idref" href="lec_10_lambda.html#tm'"><span class="id" title="inductive">tm'</span></a>) (<a id="t:83" class="idref" href="#t:83"><span class="id" title="binder">t</span></a>: <a class="idref" href="lec_10_lambda.html#tm'"><span class="id" title="inductive">tm'</span></a>) : <a class="idref" href="lec_10_lambda.html#tm'"><span class="id" title="inductive">tm'</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="lec_10_lambda.html#t:83"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="lec_10_lambda.html#tm_var'"><span class="id" title="constructor">tm_var'</span></a> <span class="id" title="var">y</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="lec_10_lambda.html#eqb_string"><span class="id" title="definition">eqb_string</span></a> <a class="idref" href="lec_10_lambda.html#x:81"><span class="id" title="variable">x</span></a> <span class="id" title="var">y</span> <span class="id" title="keyword">then</span> <a class="idref" href="lec_10_lambda.html#s:82"><span class="id" title="variable">s</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="lec_10_lambda.html#t:83"><span class="id" title="variable">t</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="lec_10_lambda.html#tm_abs'"><span class="id" title="constructor">tm_abs'</span></a> <span class="id" title="var">y</span> <span class="id" title="var">t1</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="lec_10_lambda.html#eqb_string"><span class="id" title="definition">eqb_string</span></a> <a class="idref" href="lec_10_lambda.html#x:81"><span class="id" title="variable">x</span></a> <span class="id" title="var">y</span> <span class="id" title="keyword">then</span> <a class="idref" href="lec_10_lambda.html#t:83"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="lec_10_lambda.html#tm_abs'"><span class="id" title="constructor">tm_abs'</span></a> <span class="id" title="var">y</span> (<a class="idref" href="lec_10_lambda.html#subst':84"><span class="id" title="definition">subst'</span></a> <a class="idref" href="lec_10_lambda.html#x:81"><span class="id" title="variable">x</span></a> <a class="idref" href="lec_10_lambda.html#s:82"><span class="id" title="variable">s</span></a> <span class="id" title="var">t1</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="lec_10_lambda.html#tm_app'"><span class="id" title="constructor">tm_app'</span></a> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="lec_10_lambda.html#tm_app'"><span class="id" title="constructor">tm_app'</span></a> (<a class="idref" href="lec_10_lambda.html#subst':84"><span class="id" title="definition">subst'</span></a> <a class="idref" href="lec_10_lambda.html#x:81"><span class="id" title="variable">x</span></a> <a class="idref" href="lec_10_lambda.html#s:82"><span class="id" title="variable">s</span></a> <span class="id" title="var">t1</span>) (<a class="idref" href="lec_10_lambda.html#subst':84"><span class="id" title="definition">subst'</span></a> <a class="idref" href="lec_10_lambda.html#x:81"><span class="id" title="variable">x</span></a> <a class="idref" href="lec_10_lambda.html#s:82"><span class="id" title="variable">s</span></a> <span class="id" title="var">t2</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="lec_10_lambda.html#tm_true'"><span class="id" title="constructor">tm_true'</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="lec_10_lambda.html#tm_true'"><span class="id" title="constructor">tm_true'</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="lec_10_lambda.html#tm_false'"><span class="id" title="constructor">tm_false'</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="lec_10_lambda.html#tm_false'"><span class="id" title="constructor">tm_false'</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="lec_10_lambda.html#tm_if'"><span class="id" title="constructor">tm_if'</span></a> <span class="id" title="var">tcond</span> <span class="id" title="var">ttrue</span> <span class="id" title="var">tfalse</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="lec_10_lambda.html#tm_if'"><span class="id" title="constructor">tm_if'</span></a> (<a class="idref" href="lec_10_lambda.html#subst':84"><span class="id" title="definition">subst'</span></a> <a class="idref" href="lec_10_lambda.html#x:81"><span class="id" title="variable">x</span></a> <a class="idref" href="lec_10_lambda.html#s:82"><span class="id" title="variable">s</span></a> <span class="id" title="var">tcond</span>) (<a class="idref" href="lec_10_lambda.html#subst':84"><span class="id" title="definition">subst'</span></a> <a class="idref" href="lec_10_lambda.html#x:81"><span class="id" title="variable">x</span></a> <a class="idref" href="lec_10_lambda.html#s:82"><span class="id" title="variable">s</span></a> <span class="id" title="var">ttrue</span>) (<a class="idref" href="lec_10_lambda.html#subst':84"><span class="id" title="definition">subst'</span></a> <a class="idref" href="lec_10_lambda.html#x:81"><span class="id" title="variable">x</span></a> <a class="idref" href="lec_10_lambda.html#s:82"><span class="id" title="variable">s</span></a> <span class="id" title="var">tfalse</span>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
<ul class="doclist">
<li> Our space of values also changes.

</li>
<li> In particular, we have boolean values now.

</li>
</ul>
 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Inductive</span> <a id="value'" class="idref" href="#value'"><span class="id" title="inductive">value'</span></a> : <a class="idref" href="lec_10_lambda.html#tm'"><span class="id" title="inductive">tm'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
| <a id="v_abs'" class="idref" href="#v_abs'"><span class="id" title="constructor">v_abs'</span></a> : <span class="id" title="keyword">forall</span> <a id="x:88" class="idref" href="#x:88"><span class="id" title="binder">x</span></a> <a id="t1:89" class="idref" href="#t1:89"><span class="id" title="binder">t1</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="lec_10_lambda.html#value':86"><span class="id" title="inductive">value'</span></a> (<a class="idref" href="lec_10_lambda.html#tm_abs'"><span class="id" title="constructor">tm_abs'</span></a> <a class="idref" href="lec_10_lambda.html#x:88"><span class="id" title="variable">x</span></a> <a class="idref" href="lec_10_lambda.html#t1:89"><span class="id" title="variable">t1</span></a>)<br/>
| <a id="v_true'" class="idref" href="#v_true'"><span class="id" title="constructor">v_true'</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="lec_10_lambda.html#value':86"><span class="id" title="inductive">value'</span></a> <a class="idref" href="lec_10_lambda.html#tm_true'"><span class="id" title="constructor">tm_true'</span></a><br/>
| <a id="v_false'" class="idref" href="#v_false'"><span class="id" title="constructor">v_false'</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="lec_10_lambda.html#value':86"><span class="id" title="inductive">value'</span></a> <a class="idref" href="lec_10_lambda.html#tm_false'"><span class="id" title="constructor">tm_false'</span></a>.<br/>

<br/>
</div>

<div class="doc">
<ul class="doclist">
<li> And our semantics needs to be extended as well ...

</li>
<li> Here is the updated small-step semantics.

</li>
</ul>
 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Reserved Notation</span> &quot; t '~--&gt;' t' "<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 40, <span class="id" title="var">t'</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 39).<br/>
<span class="id" title="keyword">Inductive</span> <a id="cbv_step'" class="idref" href="#cbv_step'"><span class="id" title="inductive">cbv_step'</span></a> : <a class="idref" href="lec_10_lambda.html#tm'"><span class="id" title="inductive">tm'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="lec_10_lambda.html#tm'"><span class="id" title="inductive">tm'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
| <a id="_cbv_app1" class="idref" href="#_cbv_app1"><span class="id" title="constructor">_cbv_app1</span></a> : <span class="id" title="keyword">forall</span> <a id="t1:92" class="idref" href="#t1:92"><span class="id" title="binder">t1</span></a> <a id="t2:93" class="idref" href="#t2:93"><span class="id" title="binder">t2</span></a> <a id="t1':94" class="idref" href="#t1':94"><span class="id" title="binder">t1'</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="lec_10_lambda.html#t1:92"><span class="id" title="variable">t1</span></a> <a class="idref" href="lec_10_lambda.html#57b3da98601ec12f107920fe9f1d28b3"><span class="id" title="notation">~--&gt;</span></a> <a class="idref" href="lec_10_lambda.html#t1':94"><span class="id" title="variable">t1'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="lec_10_lambda.html#tm_app'"><span class="id" title="constructor">tm_app'</span></a> <a class="idref" href="lec_10_lambda.html#t1:92"><span class="id" title="variable">t1</span></a> <a class="idref" href="lec_10_lambda.html#t2:93"><span class="id" title="variable">t2</span></a> <a class="idref" href="lec_10_lambda.html#57b3da98601ec12f107920fe9f1d28b3"><span class="id" title="notation">~--&gt;</span></a> <a class="idref" href="lec_10_lambda.html#tm_app'"><span class="id" title="constructor">tm_app'</span></a> <a class="idref" href="lec_10_lambda.html#t1':94"><span class="id" title="variable">t1'</span></a> <a class="idref" href="lec_10_lambda.html#t2:93"><span class="id" title="variable">t2</span></a><br/>
| <a id="_cbv_app2" class="idref" href="#_cbv_app2"><span class="id" title="constructor">_cbv_app2</span></a> : <span class="id" title="keyword">forall</span> <a id="v:95" class="idref" href="#v:95"><span class="id" title="binder">v</span></a> <a id="t2:96" class="idref" href="#t2:96"><span class="id" title="binder">t2</span></a> <a id="t2':97" class="idref" href="#t2':97"><span class="id" title="binder">t2'</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="lec_10_lambda.html#value'"><span class="id" title="inductive">value'</span></a> <a class="idref" href="lec_10_lambda.html#v:95"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="lec_10_lambda.html#t2:96"><span class="id" title="variable">t2</span></a> <a class="idref" href="lec_10_lambda.html#57b3da98601ec12f107920fe9f1d28b3"><span class="id" title="notation">~--&gt;</span></a> <a class="idref" href="lec_10_lambda.html#t2':97"><span class="id" title="variable">t2'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="lec_10_lambda.html#tm_app'"><span class="id" title="constructor">tm_app'</span></a> <a class="idref" href="lec_10_lambda.html#v:95"><span class="id" title="variable">v</span></a> <a class="idref" href="lec_10_lambda.html#t2:96"><span class="id" title="variable">t2</span></a> <a class="idref" href="lec_10_lambda.html#57b3da98601ec12f107920fe9f1d28b3"><span class="id" title="notation">~--&gt;</span></a> <a class="idref" href="lec_10_lambda.html#tm_app'"><span class="id" title="constructor">tm_app'</span></a> <a class="idref" href="lec_10_lambda.html#v:95"><span class="id" title="variable">v</span></a> <a class="idref" href="lec_10_lambda.html#t2':97"><span class="id" title="variable">t2'</span></a><br/>
| <a id="_cbv_beta" class="idref" href="#_cbv_beta"><span class="id" title="constructor">_cbv_beta</span></a> : <span class="id" title="keyword">forall</span> <a id="x:98" class="idref" href="#x:98"><span class="id" title="binder">x</span></a> <a id="t:99" class="idref" href="#t:99"><span class="id" title="binder">t</span></a> <a id="v:100" class="idref" href="#v:100"><span class="id" title="binder">v</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="lec_10_lambda.html#value'"><span class="id" title="inductive">value'</span></a> <a class="idref" href="lec_10_lambda.html#v:100"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="lec_10_lambda.html#tm_app'"><span class="id" title="constructor">tm_app'</span></a> (<a class="idref" href="lec_10_lambda.html#tm_abs'"><span class="id" title="constructor">tm_abs'</span></a> <a class="idref" href="lec_10_lambda.html#x:98"><span class="id" title="variable">x</span></a> <a class="idref" href="lec_10_lambda.html#t:99"><span class="id" title="variable">t</span></a>) <a class="idref" href="lec_10_lambda.html#v:100"><span class="id" title="variable">v</span></a> <a class="idref" href="lec_10_lambda.html#57b3da98601ec12f107920fe9f1d28b3"><span class="id" title="notation">~--&gt;</span></a> <a class="idref" href="lec_10_lambda.html#subst'"><span class="id" title="definition">subst'</span></a> <a class="idref" href="lec_10_lambda.html#x:98"><span class="id" title="variable">x</span></a> <a class="idref" href="lec_10_lambda.html#v:100"><span class="id" title="variable">v</span></a> <a class="idref" href="lec_10_lambda.html#t:99"><span class="id" title="variable">t</span></a><br/>
| <a id="_if_cond" class="idref" href="#_if_cond"><span class="id" title="constructor">_if_cond</span></a> : <span class="id" title="keyword">forall</span> <a id="tcond:101" class="idref" href="#tcond:101"><span class="id" title="binder">tcond</span></a> <a id="ttrue:102" class="idref" href="#ttrue:102"><span class="id" title="binder">ttrue</span></a> <a id="tfalse:103" class="idref" href="#tfalse:103"><span class="id" title="binder">tfalse</span></a> <a id="tcond':104" class="idref" href="#tcond':104"><span class="id" title="binder">tcond'</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="lec_10_lambda.html#tcond:101"><span class="id" title="variable">tcond</span></a> <a class="idref" href="lec_10_lambda.html#57b3da98601ec12f107920fe9f1d28b3"><span class="id" title="notation">~--&gt;</span></a> <a class="idref" href="lec_10_lambda.html#tcond':104"><span class="id" title="variable">tcond'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="lec_10_lambda.html#tm_if'"><span class="id" title="constructor">tm_if'</span></a> <a class="idref" href="lec_10_lambda.html#tcond:101"><span class="id" title="variable">tcond</span></a> <a class="idref" href="lec_10_lambda.html#ttrue:102"><span class="id" title="variable">ttrue</span></a> <a class="idref" href="lec_10_lambda.html#tfalse:103"><span class="id" title="variable">tfalse</span></a> <a class="idref" href="lec_10_lambda.html#57b3da98601ec12f107920fe9f1d28b3"><span class="id" title="notation">~--&gt;</span></a> <a class="idref" href="lec_10_lambda.html#tm_if'"><span class="id" title="constructor">tm_if'</span></a> <a class="idref" href="lec_10_lambda.html#tcond':104"><span class="id" title="variable">tcond'</span></a> <a class="idref" href="lec_10_lambda.html#ttrue:102"><span class="id" title="variable">ttrue</span></a> <a class="idref" href="lec_10_lambda.html#tfalse:103"><span class="id" title="variable">tfalse</span></a><br/>
| <a id="_if_true" class="idref" href="#_if_true"><span class="id" title="constructor">_if_true</span></a> : <span class="id" title="keyword">forall</span> <a id="ttrue:105" class="idref" href="#ttrue:105"><span class="id" title="binder">ttrue</span></a> <a id="tfalse:106" class="idref" href="#tfalse:106"><span class="id" title="binder">tfalse</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="lec_10_lambda.html#tm_if'"><span class="id" title="constructor">tm_if'</span></a> <a class="idref" href="lec_10_lambda.html#tm_true'"><span class="id" title="constructor">tm_true'</span></a> <a class="idref" href="lec_10_lambda.html#ttrue:105"><span class="id" title="variable">ttrue</span></a> <a class="idref" href="lec_10_lambda.html#tfalse:106"><span class="id" title="variable">tfalse</span></a> <a class="idref" href="lec_10_lambda.html#57b3da98601ec12f107920fe9f1d28b3"><span class="id" title="notation">~--&gt;</span></a> <a class="idref" href="lec_10_lambda.html#ttrue:105"><span class="id" title="variable">ttrue</span></a><br/>
| <a id="_if_false" class="idref" href="#_if_false"><span class="id" title="constructor">_if_false</span></a> : <span class="id" title="keyword">forall</span> <a id="ttrue:107" class="idref" href="#ttrue:107"><span class="id" title="binder">ttrue</span></a> <a id="tfalse:108" class="idref" href="#tfalse:108"><span class="id" title="binder">tfalse</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="lec_10_lambda.html#tm_if'"><span class="id" title="constructor">tm_if'</span></a> <a class="idref" href="lec_10_lambda.html#tm_true'"><span class="id" title="constructor">tm_true'</span></a> <a class="idref" href="lec_10_lambda.html#ttrue:107"><span class="id" title="variable">ttrue</span></a> <a class="idref" href="lec_10_lambda.html#tfalse:108"><span class="id" title="variable">tfalse</span></a> <a class="idref" href="lec_10_lambda.html#57b3da98601ec12f107920fe9f1d28b3"><span class="id" title="notation">~--&gt;</span></a> <a class="idref" href="lec_10_lambda.html#tfalse:108"><span class="id" title="variable">tfalse</span></a><br/>
<span class="id" title="keyword">where</span> <a id="57b3da98601ec12f107920fe9f1d28b3" class="idref" href="#57b3da98601ec12f107920fe9f1d28b3"><span class="id" title="notation">&quot;</span></a> t '~--&gt;' t' " := (<a class="idref" href="lec_10_lambda.html#cbv_step':91"><span class="id" title="inductive">cbv_step'</span></a> <span class="id" title="var">t</span> <span class="id" title="var">t'</span>).<br/>

<br/>
</div>

<div class="doc">
<ul class="doclist">
<li> Finally we can perform a translation.

</li>
<li> In other words, we can compile away the extra language features.

</li>
</ul>
 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="tm'_to_tm" class="idref" href="#tm'_to_tm"><span class="id" title="definition">tm'_to_tm</span></a> (<a id="t:109" class="idref" href="#t:109"><span class="id" title="binder">t</span></a>: <a class="idref" href="lec_10_lambda.html#tm'"><span class="id" title="inductive">tm'</span></a>): <a class="idref" href="lec_10_lambda.html#tm"><span class="id" title="inductive">tm</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="lec_10_lambda.html#t:109"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="lec_10_lambda.html#tm_var'"><span class="id" title="constructor">tm_var'</span></a> <span class="id" title="var">x</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="lec_10_lambda.html#tm_var"><span class="id" title="constructor">tm_var</span></a> <span class="id" title="var">x</span><br/>
&nbsp;&nbsp;| <a class="idref" href="lec_10_lambda.html#tm_app'"><span class="id" title="constructor">tm_app'</span></a> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="lec_10_lambda.html#tm_app"><span class="id" title="constructor">tm_app</span></a> (<a class="idref" href="lec_10_lambda.html#tm'_to_tm:110"><span class="id" title="definition">tm'_to_tm</span></a> <span class="id" title="var">t1</span>) (<a class="idref" href="lec_10_lambda.html#tm'_to_tm:110"><span class="id" title="definition">tm'_to_tm</span></a> <span class="id" title="var">t2</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="lec_10_lambda.html#tm_abs'"><span class="id" title="constructor">tm_abs'</span></a> <span class="id" title="var">x</span> <span class="id" title="var">t</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="lec_10_lambda.html#tm_abs"><span class="id" title="constructor">tm_abs</span></a> <span class="id" title="var">x</span> (<a class="idref" href="lec_10_lambda.html#tm'_to_tm:110"><span class="id" title="definition">tm'_to_tm</span></a> <a class="idref" href="lec_10_lambda.html#t:109"><span class="id" title="variable">t</span></a>)<br/>
&nbsp;&nbsp;| <a class="idref" href="lec_10_lambda.html#tm_true'"><span class="id" title="constructor">tm_true'</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="lec_10_lambda.html#TRUE"><span class="id" title="definition">TRUE</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="lec_10_lambda.html#tm_false'"><span class="id" title="constructor">tm_false'</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="lec_10_lambda.html#FALSE"><span class="id" title="definition">FALSE</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="lec_10_lambda.html#tm_if'"><span class="id" title="constructor">tm_if'</span></a> <span class="id" title="var">tcond</span> <span class="id" title="var">ttrue</span> <span class="id" title="var">tfalse</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="tcond':112" class="idref" href="#tcond':112"><span class="id" title="binder">tcond'</span></a> := (<a class="idref" href="lec_10_lambda.html#tm'_to_tm:110"><span class="id" title="definition">tm'_to_tm</span></a> <span class="id" title="var">tcond</span>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="tt':113" class="idref" href="#tt':113"><span class="id" title="binder">tt'</span></a> := (<a class="idref" href="lec_10_lambda.html#tm'_to_tm:110"><span class="id" title="definition">tm'_to_tm</span></a> <span class="id" title="var">ttrue</span>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="tf':114" class="idref" href="#tf':114"><span class="id" title="binder">tf'</span></a> := (<a class="idref" href="lec_10_lambda.html#tm'_to_tm:110"><span class="id" title="definition">tm'_to_tm</span></a> <span class="id" title="var">tfalse</span>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="lec_10_lambda.html#IF'"><span class="id" title="definition">IF'</span></a> <a class="idref" href="lec_10_lambda.html#tcond':112"><span class="id" title="variable">tcond'</span></a> <a class="idref" href="lec_10_lambda.html#tt':113"><span class="id" title="variable">tt'</span></a> <a class="idref" href="lec_10_lambda.html#tf':114"><span class="id" title="variable">tf'</span></a>  <a class="idref" href="lec_10_lambda.html#96e24cc1b3765f349012b832d1dd22ad"><span class="id" title="notation">}&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
<ul class="doclist">
<li> Naturally, we can aim to prove soundness and completeness of the
     translation.

</li>
<li> We won't have the proof techniques powerful enough to show this
     yet though.

</li>
<li> The essential problem is we won't know how to say that two lambda
     terms are equivalent.

</li>
</ul>
 
<div class="paragraph"> </div>

<a id="lab52"></a><h2 class="section">Summary</h2>


<div class="paragraph"> </div>

<ul class="doclist">
<li> We saw the Lambda Calculus, a notation for talking about variables.

</li>
<li> We saw call-by-value and <i>call-by-need</i> semantics.

</li>
<li> We looked at various encodings in the Lambda Calculus and saw that
     it was Turing complete.

</li>
</ul>
 
</div>
<div class="code">
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>